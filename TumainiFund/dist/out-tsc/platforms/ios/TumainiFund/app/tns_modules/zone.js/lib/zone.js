/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Zone = (function (global) {
    const performance = global['performance'];
    function mark(name) {
        performance && performance['mark'] && performance['mark'](name);
    }
    function performanceMeasure(name, label) {
        performance && performance['measure'] && performance['measure'](name, label);
    }
    mark('Zone');
    const checkDuplicate = global[('__zone_symbol__forceDuplicateZoneCheck')] === true;
    if (global['Zone']) {
        // if global['Zone'] already exists (maybe zone.js was already loaded or
        // some other lib also registered a global object named Zone), we may need
        // to throw an error, but sometimes user may not want this error.
        // For example,
        // we have two web pages, page1 includes zone.js, page2 doesn't.
        // and the 1st time user load page1 and page2, everything work fine,
        // but when user load page2 again, error occurs because global['Zone'] already exists.
        // so we add a flag to let user choose whether to throw this error or not.
        // By default, if existing Zone is from zone.js, we will not throw the error.
        if (checkDuplicate || typeof global['Zone'].__symbol__ !== 'function') {
            throw new Error('Zone already loaded.');
        }
        else {
            return global['Zone'];
        }
    }
    class Zone {
        constructor(parent, zoneSpec) {
            this._parent = parent;
            this._name = zoneSpec ? zoneSpec.name || 'unnamed' : '<root>';
            this._properties = zoneSpec && zoneSpec.properties || {};
            this._zoneDelegate =
                new ZoneDelegate(this, this._parent && this._parent._zoneDelegate, zoneSpec);
        }
        static assertZonePatched() {
            if (global['Promise'] !== patches['ZoneAwarePromise']) {
                throw new Error('Zone.js has detected that ZoneAwarePromise `(window|global).Promise` ' +
                    'has been overwritten.\n' +
                    'Most likely cause is that a Promise polyfill has been loaded ' +
                    'after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. ' +
                    'If you must load one, do so before loading zone.js.)');
            }
        }
        static get root() {
            let zone = Zone.current;
            while (zone.parent) {
                zone = zone.parent;
            }
            return zone;
        }
        static get current() {
            return _currentZoneFrame.zone;
        }
        static get currentTask() {
            return _currentTask;
        }
        static __load_patch(name, fn) {
            if (patches.hasOwnProperty(name)) {
                if (checkDuplicate) {
                    throw Error('Already loaded patch: ' + name);
                }
            }
            else if (!global['__Zone_disable_' + name]) {
                const perfName = 'Zone:' + name;
                mark(perfName);
                patches[name] = fn(global, Zone, _api);
                performanceMeasure(perfName, perfName);
            }
        }
        get parent() {
            return this._parent;
        }
        get name() {
            return this._name;
        }
        get(key) {
            const zone = this.getZoneWith(key);
            if (zone)
                return zone._properties[key];
        }
        getZoneWith(key) {
            let current = this;
            while (current) {
                if (current._properties.hasOwnProperty(key)) {
                    return current;
                }
                current = current._parent;
            }
            return null;
        }
        fork(zoneSpec) {
            if (!zoneSpec)
                throw new Error('ZoneSpec required!');
            return this._zoneDelegate.fork(this, zoneSpec);
        }
        wrap(callback, source) {
            if (typeof callback !== 'function') {
                throw new Error('Expecting function got: ' + callback);
            }
            const _callback = this._zoneDelegate.intercept(this, callback, source);
            const zone = this;
            return function () {
                return zone.runGuarded(_callback, this, arguments, source);
            };
        }
        run(callback, applyThis, applyArgs, source) {
            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };
            try {
                return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);
            }
            finally {
                _currentZoneFrame = _currentZoneFrame.parent;
            }
        }
        runGuarded(callback, applyThis = null, applyArgs, source) {
            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };
            try {
                try {
                    return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);
                }
                catch (error) {
                    if (this._zoneDelegate.handleError(this, error)) {
                        throw error;
                    }
                }
            }
            finally {
                _currentZoneFrame = _currentZoneFrame.parent;
            }
        }
        runTask(task, applyThis, applyArgs) {
            if (task.zone != this) {
                throw new Error('A task can only be run in the zone of creation! (Creation: ' +
                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');
            }
            // https://github.com/angular/zone.js/issues/778, sometimes eventTask
            // will run in notScheduled(canceled) state, we should not try to
            // run such kind of task but just return
            if (task.state === notScheduled && (task.type === eventTask || task.type === macroTask)) {
                return;
            }
            const reEntryGuard = task.state != running;
            reEntryGuard && task._transitionTo(running, scheduled);
            task.runCount++;
            const previousTask = _currentTask;
            _currentTask = task;
            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };
            try {
                if (task.type == macroTask && task.data && !task.data.isPeriodic) {
                    task.cancelFn = undefined;
                }
                try {
                    return this._zoneDelegate.invokeTask(this, task, applyThis, applyArgs);
                }
                catch (error) {
                    if (this._zoneDelegate.handleError(this, error)) {
                        throw error;
                    }
                }
            }
            finally {
                // if the task's state is notScheduled or unknown, then it has already been cancelled
                // we should not reset the state to scheduled
                if (task.state !== notScheduled && task.state !== unknown) {
                    if (task.type == eventTask || (task.data && task.data.isPeriodic)) {
                        reEntryGuard && task._transitionTo(scheduled, running);
                    }
                    else {
                        task.runCount = 0;
                        this._updateTaskCount(task, -1);
                        reEntryGuard &&
                            task._transitionTo(notScheduled, running, notScheduled);
                    }
                }
                _currentZoneFrame = _currentZoneFrame.parent;
                _currentTask = previousTask;
            }
        }
        scheduleTask(task) {
            if (task.zone && task.zone !== this) {
                // check if the task was rescheduled, the newZone
                // should not be the children of the original zone
                let newZone = this;
                while (newZone) {
                    if (newZone === task.zone) {
                        throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${task.zone.name}`);
                    }
                    newZone = newZone.parent;
                }
            }
            task._transitionTo(scheduling, notScheduled);
            const zoneDelegates = [];
            task._zoneDelegates = zoneDelegates;
            task._zone = this;
            try {
                task = this._zoneDelegate.scheduleTask(this, task);
            }
            catch (err) {
                // should set task's state to unknown when scheduleTask throw error
                // because the err may from reschedule, so the fromState maybe notScheduled
                task._transitionTo(unknown, scheduling, notScheduled);
                // TODO: @JiaLiPassion, should we check the result from handleError?
                this._zoneDelegate.handleError(this, err);
                throw err;
            }
            if (task._zoneDelegates === zoneDelegates) {
                // we have to check because internally the delegate can reschedule the task.
                this._updateTaskCount(task, 1);
            }
            if (task.state == scheduling) {
                task._transitionTo(scheduled, scheduling);
            }
            return task;
        }
        scheduleMicroTask(source, callback, data, customSchedule) {
            return this.scheduleTask(new ZoneTask(microTask, source, callback, data, customSchedule, undefined));
        }
        scheduleMacroTask(source, callback, data, customSchedule, customCancel) {
            return this.scheduleTask(new ZoneTask(macroTask, source, callback, data, customSchedule, customCancel));
        }
        scheduleEventTask(source, callback, data, customSchedule, customCancel) {
            return this.scheduleTask(new ZoneTask(eventTask, source, callback, data, customSchedule, customCancel));
        }
        cancelTask(task) {
            if (task.zone != this)
                throw new Error('A task can only be cancelled in the zone of creation! (Creation: ' +
                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');
            task._transitionTo(canceling, scheduled, running);
            try {
                this._zoneDelegate.cancelTask(this, task);
            }
            catch (err) {
                // if error occurs when cancelTask, transit the state to unknown
                task._transitionTo(unknown, canceling);
                this._zoneDelegate.handleError(this, err);
                throw err;
            }
            this._updateTaskCount(task, -1);
            task._transitionTo(notScheduled, canceling);
            task.runCount = 0;
            return task;
        }
        _updateTaskCount(task, count) {
            const zoneDelegates = task._zoneDelegates;
            if (count == -1) {
                task._zoneDelegates = null;
            }
            for (let i = 0; i < zoneDelegates.length; i++) {
                zoneDelegates[i]._updateTaskCount(task.type, count);
            }
        }
    }
    Zone.__symbol__ = __symbol__;
    const DELEGATE_ZS = {
        name: '',
        onHasTask: (delegate, _, target, hasTaskState) => delegate.hasTask(target, hasTaskState),
        onScheduleTask: (delegate, _, target, task) => delegate.scheduleTask(target, task),
        onInvokeTask: (delegate, _, target, task, applyThis, applyArgs) => delegate.invokeTask(target, task, applyThis, applyArgs),
        onCancelTask: (delegate, _, target, task) => delegate.cancelTask(target, task)
    };
    class ZoneDelegate {
        constructor(zone, parentDelegate, zoneSpec) {
            this._taskCounts = { 'microTask': 0, 'macroTask': 0, 'eventTask': 0 };
            this.zone = zone;
            this._parentDelegate = parentDelegate;
            this._forkZS = zoneSpec && (zoneSpec && zoneSpec.onFork ? zoneSpec : parentDelegate._forkZS);
            this._forkDlgt = zoneSpec && (zoneSpec.onFork ? parentDelegate : parentDelegate._forkDlgt);
            this._forkCurrZone = zoneSpec && (zoneSpec.onFork ? this.zone : parentDelegate.zone);
            this._interceptZS =
                zoneSpec && (zoneSpec.onIntercept ? zoneSpec : parentDelegate._interceptZS);
            this._interceptDlgt =
                zoneSpec && (zoneSpec.onIntercept ? parentDelegate : parentDelegate._interceptDlgt);
            this._interceptCurrZone =
                zoneSpec && (zoneSpec.onIntercept ? this.zone : parentDelegate.zone);
            this._invokeZS = zoneSpec && (zoneSpec.onInvoke ? zoneSpec : parentDelegate._invokeZS);
            this._invokeDlgt =
                zoneSpec && (zoneSpec.onInvoke ? parentDelegate : parentDelegate._invokeDlgt);
            this._invokeCurrZone = zoneSpec && (zoneSpec.onInvoke ? this.zone : parentDelegate.zone);
            this._handleErrorZS =
                zoneSpec && (zoneSpec.onHandleError ? zoneSpec : parentDelegate._handleErrorZS);
            this._handleErrorDlgt =
                zoneSpec && (zoneSpec.onHandleError ? parentDelegate : parentDelegate._handleErrorDlgt);
            this._handleErrorCurrZone =
                zoneSpec && (zoneSpec.onHandleError ? this.zone : parentDelegate.zone);
            this._scheduleTaskZS =
                zoneSpec && (zoneSpec.onScheduleTask ? zoneSpec : parentDelegate._scheduleTaskZS);
            this._scheduleTaskDlgt = zoneSpec &&
                (zoneSpec.onScheduleTask ? parentDelegate : parentDelegate._scheduleTaskDlgt);
            this._scheduleTaskCurrZone =
                zoneSpec && (zoneSpec.onScheduleTask ? this.zone : parentDelegate.zone);
            this._invokeTaskZS =
                zoneSpec && (zoneSpec.onInvokeTask ? zoneSpec : parentDelegate._invokeTaskZS);
            this._invokeTaskDlgt =
                zoneSpec && (zoneSpec.onInvokeTask ? parentDelegate : parentDelegate._invokeTaskDlgt);
            this._invokeTaskCurrZone =
                zoneSpec && (zoneSpec.onInvokeTask ? this.zone : parentDelegate.zone);
            this._cancelTaskZS =
                zoneSpec && (zoneSpec.onCancelTask ? zoneSpec : parentDelegate._cancelTaskZS);
            this._cancelTaskDlgt =
                zoneSpec && (zoneSpec.onCancelTask ? parentDelegate : parentDelegate._cancelTaskDlgt);
            this._cancelTaskCurrZone =
                zoneSpec && (zoneSpec.onCancelTask ? this.zone : parentDelegate.zone);
            this._hasTaskZS = null;
            this._hasTaskDlgt = null;
            this._hasTaskDlgtOwner = null;
            this._hasTaskCurrZone = null;
            const zoneSpecHasTask = zoneSpec && zoneSpec.onHasTask;
            const parentHasTask = parentDelegate && parentDelegate._hasTaskZS;
            if (zoneSpecHasTask || parentHasTask) {
                // If we need to report hasTask, than this ZS needs to do ref counting on tasks. In such
                // a case all task related interceptors must go through this ZD. We can't short circuit it.
                this._hasTaskZS = zoneSpecHasTask ? zoneSpec : DELEGATE_ZS;
                this._hasTaskDlgt = parentDelegate;
                this._hasTaskDlgtOwner = this;
                this._hasTaskCurrZone = zone;
                if (!zoneSpec.onScheduleTask) {
                    this._scheduleTaskZS = DELEGATE_ZS;
                    this._scheduleTaskDlgt = parentDelegate;
                    this._scheduleTaskCurrZone = this.zone;
                }
                if (!zoneSpec.onInvokeTask) {
                    this._invokeTaskZS = DELEGATE_ZS;
                    this._invokeTaskDlgt = parentDelegate;
                    this._invokeTaskCurrZone = this.zone;
                }
                if (!zoneSpec.onCancelTask) {
                    this._cancelTaskZS = DELEGATE_ZS;
                    this._cancelTaskDlgt = parentDelegate;
                    this._cancelTaskCurrZone = this.zone;
                }
            }
        }
        fork(targetZone, zoneSpec) {
            return this._forkZS ? this._forkZS.onFork(this._forkDlgt, this.zone, targetZone, zoneSpec) :
                new Zone(targetZone, zoneSpec);
        }
        intercept(targetZone, callback, source) {
            return this._interceptZS ?
                this._interceptZS.onIntercept(this._interceptDlgt, this._interceptCurrZone, targetZone, callback, source) :
                callback;
        }
        invoke(targetZone, callback, applyThis, applyArgs, source) {
            return this._invokeZS ? this._invokeZS.onInvoke(this._invokeDlgt, this._invokeCurrZone, targetZone, callback, applyThis, applyArgs, source) :
                callback.apply(applyThis, applyArgs);
        }
        handleError(targetZone, error) {
            return this._handleErrorZS ?
                this._handleErrorZS.onHandleError(this._handleErrorDlgt, this._handleErrorCurrZone, targetZone, error) :
                true;
        }
        scheduleTask(targetZone, task) {
            let returnTask = task;
            if (this._scheduleTaskZS) {
                if (this._hasTaskZS) {
                    returnTask._zoneDelegates.push(this._hasTaskDlgtOwner);
                }
                returnTask = this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt, this._scheduleTaskCurrZone, targetZone, task);
                if (!returnTask)
                    returnTask = task;
            }
            else {
                if (task.scheduleFn) {
                    task.scheduleFn(task);
                }
                else if (task.type == microTask) {
                    scheduleMicroTask(task);
                }
                else {
                    throw new Error('Task is missing scheduleFn.');
                }
            }
            return returnTask;
        }
        invokeTask(targetZone, task, applyThis, applyArgs) {
            return this._invokeTaskZS ? this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt, this._invokeTaskCurrZone, targetZone, task, applyThis, applyArgs) :
                task.callback.apply(applyThis, applyArgs);
        }
        cancelTask(targetZone, task) {
            let value;
            if (this._cancelTaskZS) {
                value = this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt, this._cancelTaskCurrZone, targetZone, task);
            }
            else {
                if (!task.cancelFn) {
                    throw Error('Task is not cancelable');
                }
                value = task.cancelFn(task);
            }
            return value;
        }
        hasTask(targetZone, isEmpty) {
            // hasTask should not throw error so other ZoneDelegate
            // can still trigger hasTask callback
            try {
                this._hasTaskZS &&
                    this._hasTaskZS.onHasTask(this._hasTaskDlgt, this._hasTaskCurrZone, targetZone, isEmpty);
            }
            catch (err) {
                this.handleError(targetZone, err);
            }
        }
        _updateTaskCount(type, count) {
            const counts = this._taskCounts;
            const prev = counts[type];
            const next = counts[type] = prev + count;
            if (next < 0) {
                throw new Error('More tasks executed then were scheduled.');
            }
            if (prev == 0 || next == 0) {
                const isEmpty = {
                    microTask: counts['microTask'] > 0,
                    macroTask: counts['macroTask'] > 0,
                    eventTask: counts['eventTask'] > 0,
                    change: type
                };
                this.hasTask(this.zone, isEmpty);
            }
        }
    }
    class ZoneTask {
        constructor(type, source, callback, options, scheduleFn, cancelFn) {
            this._zone = null;
            this.runCount = 0;
            this._zoneDelegates = null;
            this._state = 'notScheduled';
            this.type = type;
            this.source = source;
            this.data = options;
            this.scheduleFn = scheduleFn;
            this.cancelFn = cancelFn;
            this.callback = callback;
            const self = this;
            // TODO: @JiaLiPassion options should have interface
            if (type === eventTask && options && options.useG) {
                this.invoke = ZoneTask.invokeTask;
            }
            else {
                this.invoke = function () {
                    return ZoneTask.invokeTask.call(global, self, this, arguments);
                };
            }
        }
        static invokeTask(task, target, args) {
            if (!task) {
                task = this;
            }
            _numberOfNestedTaskFrames++;
            try {
                task.runCount++;
                return task.zone.runTask(task, target, args);
            }
            finally {
                if (_numberOfNestedTaskFrames == 1) {
                    drainMicroTaskQueue();
                }
                _numberOfNestedTaskFrames--;
            }
        }
        get zone() {
            return this._zone;
        }
        get state() {
            return this._state;
        }
        cancelScheduleRequest() {
            this._transitionTo(notScheduled, scheduling);
        }
        _transitionTo(toState, fromState1, fromState2) {
            if (this._state === fromState1 || this._state === fromState2) {
                this._state = toState;
                if (toState == notScheduled) {
                    this._zoneDelegates = null;
                }
            }
            else {
                throw new Error(`${this.type} '${this.source}': can not transition to '${toState}', expecting state '${fromState1}'${fromState2 ? ' or \'' + fromState2 + '\'' : ''}, was '${this._state}'.`);
            }
        }
        toString() {
            if (this.data && typeof this.data.handleId !== 'undefined') {
                return this.data.handleId.toString();
            }
            else {
                return Object.prototype.toString.call(this);
            }
        }
        // add toJSON method to prevent cyclic error when
        // call JSON.stringify(zoneTask)
        toJSON() {
            return {
                type: this.type,
                state: this.state,
                source: this.source,
                zone: this.zone.name,
                runCount: this.runCount
            };
        }
    }
    //////////////////////////////////////////////////////
    //////////////////////////////////////////////////////
    ///  MICROTASK QUEUE
    //////////////////////////////////////////////////////
    //////////////////////////////////////////////////////
    const symbolSetTimeout = __symbol__('setTimeout');
    const symbolPromise = __symbol__('Promise');
    const symbolThen = __symbol__('then');
    let _microTaskQueue = [];
    let _isDrainingMicrotaskQueue = false;
    let nativeMicroTaskQueuePromise;
    function scheduleMicroTask(task) {
        // if we are not running in any task, and there has not been anything scheduled
        // we must bootstrap the initial task creation by manually scheduling the drain
        if (_numberOfNestedTaskFrames === 0 && _microTaskQueue.length === 0) {
            // We are not running in Task, so we need to kickstart the microtask queue.
            if (!nativeMicroTaskQueuePromise) {
                if (global[symbolPromise]) {
                    nativeMicroTaskQueuePromise = global[symbolPromise].resolve(0);
                }
            }
            if (nativeMicroTaskQueuePromise) {
                let nativeThen = nativeMicroTaskQueuePromise[symbolThen];
                if (!nativeThen) {
                    // native Promise is not patchable, we need to use `then` directly
                    // issue 1078
                    nativeThen = nativeMicroTaskQueuePromise['then'];
                }
                nativeThen.call(nativeMicroTaskQueuePromise, drainMicroTaskQueue);
            }
            else {
                global[symbolSetTimeout](drainMicroTaskQueue, 0);
            }
        }
        task && _microTaskQueue.push(task);
    }
    function drainMicroTaskQueue() {
        if (!_isDrainingMicrotaskQueue) {
            _isDrainingMicrotaskQueue = true;
            while (_microTaskQueue.length) {
                const queue = _microTaskQueue;
                _microTaskQueue = [];
                for (let i = 0; i < queue.length; i++) {
                    const task = queue[i];
                    try {
                        task.zone.runTask(task, null, null);
                    }
                    catch (error) {
                        _api.onUnhandledError(error);
                    }
                }
            }
            _api.microtaskDrainDone();
            _isDrainingMicrotaskQueue = false;
        }
    }
    //////////////////////////////////////////////////////
    //////////////////////////////////////////////////////
    ///  BOOTSTRAP
    //////////////////////////////////////////////////////
    //////////////////////////////////////////////////////
    const NO_ZONE = { name: 'NO ZONE' };
    const notScheduled = 'notScheduled', scheduling = 'scheduling', scheduled = 'scheduled', running = 'running', canceling = 'canceling', unknown = 'unknown';
    const microTask = 'microTask', macroTask = 'macroTask', eventTask = 'eventTask';
    const patches = {};
    const _api = {
        symbol: __symbol__,
        currentZoneFrame: () => _currentZoneFrame,
        onUnhandledError: noop,
        microtaskDrainDone: noop,
        scheduleMicroTask: scheduleMicroTask,
        showUncaughtError: () => !Zone[__symbol__('ignoreConsoleErrorUncaughtError')],
        patchEventTarget: () => [],
        patchOnProperties: noop,
        patchMethod: () => noop,
        bindArguments: () => [],
        patchThen: () => noop,
        patchMacroTask: () => noop,
        setNativePromise: (NativePromise) => {
            // sometimes NativePromise.resolve static function
            // is not ready yet, (such as core-js/es6.promise)
            // so we need to check here.
            if (NativePromise && typeof NativePromise.resolve === 'function') {
                nativeMicroTaskQueuePromise = NativePromise.resolve(0);
            }
        },
        patchEventPrototype: () => noop,
        isIEOrEdge: () => false,
        getGlobalObjects: () => undefined,
        ObjectDefineProperty: () => noop,
        ObjectGetOwnPropertyDescriptor: () => undefined,
        ObjectCreate: () => undefined,
        ArraySlice: () => [],
        patchClass: () => noop,
        wrapWithCurrentZone: () => noop,
        filterProperties: () => [],
        attachOriginToPatched: () => noop,
        _redefineProperty: () => noop,
        patchCallbacks: () => noop
    };
    let _currentZoneFrame = { parent: null, zone: new Zone(null, null) };
    let _currentTask = null;
    let _numberOfNestedTaskFrames = 0;
    function noop() { }
    function __symbol__(name) {
        return '__zone_symbol__' + name;
    }
    performanceMeasure('Zone', 'Zone');
    return global['Zone'] = Zone;
})(typeof window !== 'undefined' && window || typeof self !== 'undefined' && self || global);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiem9uZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3BsYXRmb3Jtcy9pb3MvVHVtYWluaUZ1bmQvYXBwL3Ruc19tb2R1bGVzL3pvbmUuanMvbGliL3pvbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztHQU1HO0FBNG9CSCxNQUFNLElBQUksR0FBYSxDQUFDLFVBQVMsTUFBVztJQUMxQyxNQUFNLFdBQVcsR0FDYixNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDMUIsU0FBUyxJQUFJLENBQUMsSUFBWTtRQUN4QixXQUFXLElBQUksV0FBVyxDQUFDLE1BQU0sQ0FBQyxJQUFJLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBQ0QsU0FBUyxrQkFBa0IsQ0FBQyxJQUFZLEVBQUUsS0FBYTtRQUNyRCxXQUFXLElBQUksV0FBVyxDQUFDLFNBQVMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDL0UsQ0FBQztJQUNELElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNiLE1BQU0sY0FBYyxHQUFHLE1BQU0sQ0FBQyxDQUFDLHdDQUF3QyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUM7SUFDbkYsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFDbEIsd0VBQXdFO1FBQ3hFLDBFQUEwRTtRQUMxRSxpRUFBaUU7UUFDakUsZUFBZTtRQUNmLGdFQUFnRTtRQUNoRSxvRUFBb0U7UUFDcEUsc0ZBQXNGO1FBQ3RGLDBFQUEwRTtRQUMxRSw2RUFBNkU7UUFDN0UsSUFBSSxjQUFjLElBQUksT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRTtZQUNyRSxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7U0FDekM7YUFBTTtZ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RUFBRSxDQUFDLElBQUk7UUFDL0IsZ0JBQWdCLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRTtRQUMxQixxQkFBcUIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJO1FBQ2pDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUk7UUFDN0IsY0FBYyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUk7S0FDM0IsQ0FBQztJQUNGLElBQUksaUJBQWlCLEdBQWUsRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUMsQ0FBQztJQUMvRSxJQUFJLFlBQVksR0FBYyxJQUFJLENBQUM7SUFDbkMsSUFBSSx5QkFBeUIsR0FBRyxDQUFDLENBQUM7SUFFbEMsU0FBUyxJQUFJLEtBQUksQ0FBQztJQUVsQixTQUFTLFVBQVUsQ0FBQyxJQUFZO1FBQzlCLE9BQU8saUJBQWlCLEdBQUcsSUFBSSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDbkMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQy9CLENBQUMsQ0FBQyxDQUFDLE9BQU8sTUFBTSxLQUFLLFdBQVcsSUFBSSxNQUFNLElBQUksT0FBTyxJQUFJLEtBQUssV0FBVyxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBTdXBwcmVzcyBjbG9zdXJlIGNvbXBpbGVyIGVycm9ycyBhYm91dCB1bmtub3duICdnbG9iYWwnIHZhcmlhYmxlXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBAc3VwcHJlc3Mge3VuZGVmaW5lZFZhcnN9XG4gKi9cblxuLyoqXG4gKiBab25lIGlzIGEgbWVjaGFuaXNtIGZvciBpbnRlcmNlcHRpbmcgYW5kIGtlZXBpbmcgdHJhY2sgb2YgYXN5bmNocm9ub3VzIHdvcmsuXG4gKlxuICogQSBab25lIGlzIGEgZ2xvYmFsIG9iamVjdCB3aGljaCBpcyBjb25maWd1cmVkIHdpdGggcnVsZXMgYWJvdXQgaG93IHRvIGludGVyY2VwdCBhbmQga2VlcCB0cmFja1xuICogb2YgdGhlIGFzeW5jaHJvbm91cyBjYWxsYmFja3MuIFpvbmUgaGFzIHRoZXNlIHJlc3BvbnNpYmlsaXRpZXM6XG4gKlxuICogMS4gSW50ZXJjZXB0IGFzeW5jaHJvbm91cyB0YXNrIHNjaGVkdWxpbmdcbiAqIDIuIFdyYXAgY2FsbGJhY2tzIGZvciBlcnJvci1oYW5kbGluZyBhbmQgem9uZSB0cmFja2luZyBhY3Jvc3MgYXN5bmMgb3BlcmF0aW9ucy5cbiAqIDMuIFByb3ZpZGUgYSB3YXkgdG8gYXR0YWNoIGRhdGEgdG8gem9uZXNcbiAqIDQuIFByb3ZpZGUgYSBjb250ZXh0IHNwZWNpZmljIGxhc3QgZnJhbWUgZXJyb3IgaGFuZGxpbmdcbiAqIDUuIChJbnRlcmNlcHQgYmxvY2tpbmcgbWV0aG9kcylcbiAqXG4gKiBBIHpvbmUgYnkgaXRzZWxmIGRvZXMgbm90IGRvIGFueXRoaW5nLCBpbnN0ZWFkIGl0IHJlbGllcyBvbiBzb21lIG90aGVyIGNvZGUgdG8gcm91dGUgZXhpc3RpbmdcbiAqIHBsYXRmb3JtIEFQSSB0aHJvdWdoIGl0LiAoVGhlIHpvbmUgbGlicmFyeSBzaGlwcyB3aXRoIGNvZGUgd2hpY2ggbW9ua2V5IHBhdGNoZXMgYWxsIG9mIHRoZVxuICogYnJvd3NlcnMncyBhc3luY2hyb25vdXMgQVBJIGFuZCByZWRpcmVjdHMgdGhlbSB0aHJvdWdoIHRoZSB6b25lIGZvciBpbnRlcmNlcHRpb24uKVxuICpcbiAqIEluIGl0cyBzaW1wbGVzdCBmb3JtIGEgem9uZSBhbGxvd3Mgb25lIHRvIGludGVyY2VwdCB0aGUgc2NoZWR1bGluZyBhbmQgY2FsbGluZyBvZiBhc3luY2hyb25vdXNcbiAqIG9wZXJhdGlvbnMsIGFuZCBleGVjdXRlIGFkZGl0aW9uYWwgY29kZSBiZWZvcmUgYXMgd2VsbCBhcyBhZnRlciB0aGUgYXN5bmNocm9ub3VzIHRhc2suIFRoZSBydWxlc1xuICogb2YgaW50ZXJjZXB0aW9uIGFyZSBjb25maWd1cmVkIHVzaW5nIFtab25lQ29uZmlnXS4gVGhlcmUgY2FuIGJlIG1hbnkgZGlmZmVyZW50IHpvbmUgaW5zdGFuY2VzIGluXG4gKiBhIHN5c3RlbSwgYnV0IG9ubHkgb25lIHpvbmUgaXMgYWN0aXZlIGF0IGFueSBnaXZlbiB0aW1lIHdoaWNoIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmdcbiAqIFtab25lI2N1cnJlbnRdLlxuICpcbiAqXG4gKlxuICogIyMgQ2FsbGJhY2sgV3JhcHBpbmdcbiAqXG4gKiBBbiBpbXBvcnRhbnQgYXNwZWN0IG9mIHRoZSB6b25lcyBpcyB0aGF0IHRoZXkgc2hvdWxkIHBlcnNpc3QgYWNyb3NzIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zLiBUb1xuICogYWNoaWV2ZSB0aGlzLCB3aGVuIGEgZnV0dXJlIHdvcmsgaXMgc2NoZWR1bGVkIHRocm91Z2ggYXN5bmMgQVBJLCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FwdHVyZSwgYW5kXG4gKiBzdWJzZXF1ZW50bHkgcmVzdG9yZSB0aGUgY3VycmVudCB6b25lLiBGb3IgZXhhbXBsZSBpZiBhIGNvZGUgaXMgcnVubmluZyBpbiB6b25lIGBiYCBhbmQgaXRcbiAqIGludm9rZXMgYHNldFRpbWVvdXRgIHRvIHNjaGVkdWxlVGFzayB3b3JrIGxhdGVyLCB0aGUgYHNldFRpbWVvdXRgIG1ldGhvZCBuZWVkcyB0byAxKSBjYXB0dXJlIHRoZVxuICogY3VycmVudCB6b25lIGFuZCAyKSB3cmFwIHRoZSBgd3JhcENhbGxiYWNrYCBpbiBjb2RlIHdoaWNoIHdpbGwgcmVzdG9yZSB0aGUgY3VycmVudCB6b25lIGBiYCBvbmNlXG4gKiB0aGUgd3JhcENhbGxiYWNrIGV4ZWN1dGVzLiBJbiB0aGlzIHdheSB0aGUgcnVsZXMgd2hpY2ggZ292ZXJuIHRoZSBjdXJyZW50IGNvZGUgYXJlIHByZXNlcnZlZCBpblxuICogYWxsIGZ1dHVyZSBhc3luY2hyb25vdXMgdGFza3MuIFRoZXJlIGNvdWxkIGJlIGEgZGlmZmVyZW50IHpvbmUgYGNgIHdoaWNoIGhhcyBkaWZmZXJlbnQgcnVsZXMgYW5kXG4gKiBpcyBhc3NvY2lhdGVkIHdpdGggZGlmZmVyZW50IGFzeW5jaHJvbm91cyB0YXNrcy4gQXMgdGhlc2UgdGFza3MgYXJlIHByb2Nlc3NlZCwgZWFjaCBhc3luY2hyb25vdXNcbiAqIHdyYXBDYWxsYmFjayBjb3JyZWN0bHkgcmVzdG9yZXMgdGhlIGNvcnJlY3Qgem9uZSwgYXMgd2VsbCBhcyBwcmVzZXJ2ZXMgdGhlIHpvbmUgZm9yIGZ1dHVyZVxuICogYXN5bmNocm9ub3VzIGNhbGxiYWNrcy5cbiAqXG4gKiBFeGFtcGxlOiBTdXBwb3NlIGEgYnJvd3NlciBwYWdlIGNvbnNpc3Qgb2YgYXBwbGljYXRpb24gY29kZSBhcyB3ZWxsIGFzIHRoaXJkLXBhcnR5XG4gKiBhZHZlcnRpc2VtZW50IGNvZGUuIChUaGVzZSB0d28gY29kZSBiYXNlcyBhcmUgaW5kZXBlbmRlbnQsIGRldmVsb3BlZCBieSBkaWZmZXJlbnQgbXV0dWFsbHlcbiAqIHVuYXdhcmUgZGV2ZWxvcGVycy4pIFRoZSBhcHBsaWNhdGlvbiBjb2RlIG1heSBiZSBpbnRlcmVzdGVkIGluIGRvaW5nIGdsb2JhbCBlcnJvciBoYW5kbGluZyBhbmRcbiAqIHNvIGl0IGNvbmZpZ3VyZXMgdGhlIGBhcHBgIHpvbmUgdG8gc2VuZCBhbGwgb2YgdGhlIGVycm9ycyB0byB0aGUgc2VydmVyIGZvciBhbmFseXNpcywgYW5kIHRoZW5cbiAqIGV4ZWN1dGVzIHRoZSBhcHBsaWNhdGlvbiBpbiB0aGUgYGFwcGAgem9uZS4gVGhlIGFkdmVydGlzaW5nIGNvZGUgaXMgaW50ZXJlc3RlZCBpbiB0aGUgc2FtZVxuICogZXJyb3IgcHJvY2Vzc2luZyBidXQgaXQgbmVlZHMgdG8gc2VuZCB0aGUgZXJyb3JzIHRvIGEgZGlmZmVyZW50IHRoaXJkLXBhcnR5LiBTbyBpdCBjcmVhdGVzIHRoZVxuICogYGFkc2Agem9uZSB3aXRoIGEgZGlmZmVyZW50IGVycm9yIGhhbmRsZXIuIE5vdyBib3RoIGFkdmVydGlzaW5nIGFzIHdlbGwgYXMgYXBwbGljYXRpb24gY29kZVxuICogY3JlYXRlIG1hbnkgYXN5bmNocm9ub3VzIG9wZXJhdGlvbnMsIGJ1dCB0aGUgW1pvbmVdIHdpbGwgZW5zdXJlIHRoYXQgYWxsIG9mIHRoZSBhc3luY2hyb25vdXNcbiAqIG9wZXJhdGlvbnMgY3JlYXRlZCBmcm9tIHRoZSBhcHBsaWNhdGlvbiBjb2RlIHdpbGwgZXhlY3V0ZSBpbiBgYXBwYCB6b25lIHdpdGggaXRzIGVycm9yXG4gKiBoYW5kbGVyIGFuZCBhbGwgb2YgdGhlIGFkdmVydGlzZW1lbnQgY29kZSB3aWxsIGV4ZWN1dGUgaW4gdGhlIGBhZHNgIHpvbmUgd2l0aCBpdHMgZXJyb3IgaGFuZGxlci5cbiAqIFRoaXMgd2lsbCBub3Qgb25seSB3b3JrIGZvciB0aGUgYXN5bmMgb3BlcmF0aW9ucyBjcmVhdGVkIGRpcmVjdGx5LCBidXQgYWxzbyBmb3IgYWxsIHN1YnNlcXVlbnRcbiAqIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zLlxuICpcbiAqIElmIHlvdSB0aGluayBvZiBjaGFpbiBvZiBhc3luY2hyb25vdXMgb3BlcmF0aW9ucyBhcyBhIHRocmVhZCBvZiBleGVjdXRpb24gKGJpdCBvZiBhIHN0cmV0Y2gpXG4gKiB0aGVuIFtab25lI2N1cnJlbnRdIHdpbGwgYWN0IGFzIGEgdGhyZWFkIGxvY2FsIHZhcmlhYmxlLlxuICpcbiAqXG4gKlxuICogIyMgQXN5bmNocm9ub3VzIG9wZXJhdGlvbiBzY2hlZHVsaW5nXG4gKlxuICogSW4gYWRkaXRpb24gdG8gd3JhcHBpbmcgdGhlIGNhbGxiYWNrcyB0byByZXN0b3JlIHRoZSB6b25lLCBhbGwgb3BlcmF0aW9ucyB3aGljaCBjYXVzZSBhXG4gKiBzY2hlZHVsaW5nIG9mIHdvcmsgZm9yIGxhdGVyIGFyZSByb3V0ZWQgdGhyb3VnaCB0aGUgY3VycmVudCB6b25lIHdoaWNoIGlzIGFsbG93ZWQgdG8gaW50ZXJjZXB0XG4gKiB0aGVtIGJ5IGFkZGluZyB3b3JrIGJlZm9yZSBvciBhZnRlciB0aGUgd3JhcENhbGxiYWNrIGFzIHdlbGwgYXMgdXNpbmcgZGlmZmVyZW50IG1lYW5zIG9mXG4gKiBhY2hpZXZpbmcgdGhlIHJlcXVlc3QuIChVc2VmdWwgZm9yIHVuaXQgdGVzdGluZywgb3IgdHJhY2tpbmcgb2YgcmVxdWVzdHMpLiBJbiBzb21lIGluc3RhbmNlc1xuICogc3VjaCBhcyBgc2V0VGltZW91dGAgdGhlIHdyYXBwaW5nIG9mIHRoZSB3cmFwQ2FsbGJhY2sgYW5kIHNjaGVkdWxpbmcgaXMgZG9uZSBpbiB0aGUgc2FtZVxuICogd3JhcENhbGxiYWNrLCBidXQgdGhlcmUgYXJlIG90aGVyIGV4YW1wbGVzIHN1Y2ggYXMgYFByb21pc2VzYCB3aGVyZSB0aGUgYHRoZW5gIHdyYXBDYWxsYmFjayBpc1xuICogd3JhcHBlZCwgYnV0IHRoZSBleGVjdXRpb24gb2YgYHRoZW5gIGlzIHRyaWdnZXJlZCBieSBgUHJvbWlzZWAgc2NoZWR1bGluZyBgcmVzb2x2ZWAgd29yay5cbiAqXG4gKiBGdW5kYW1lbnRhbGx5IHRoZXJlIGFyZSB0aHJlZSBraW5kcyBvZiB0YXNrcyB3aGljaCBjYW4gYmUgc2NoZWR1bGVkOlxuICpcbiAqIDEuIFtNaWNyb1Rhc2tdIHVzZWQgZm9yIGRvaW5nIHdvcmsgcmlnaHQgYWZ0ZXIgdGhlIGN1cnJlbnQgdGFzay4gVGhpcyBpcyBub24tY2FuY2VsYWJsZSB3aGljaCBpc1xuICogICAgZ3VhcmFudGVlZCB0byBydW4gZXhhY3RseSBvbmNlIGFuZCBpbW1lZGlhdGVseS5cbiAqIDIuIFtNYWNyb1Rhc2tdIHVzZWQgZm9yIGRvaW5nIHdvcmsgbGF0ZXIuIFN1Y2ggYXMgYHNldFRpbWVvdXRgLiBUaGlzIGlzIHR5cGljYWxseSBjYW5jZWxhYmxlXG4gKiAgICB3aGljaCBpcyBndWFyYW50ZWVkIHRvIGV4ZWN1dGUgYXQgbGVhc3Qgb25jZSBhZnRlciBzb21lIHdlbGwgdW5kZXJzdG9vZCBkZWxheS5cbiAqIDMuIFtFdmVudFRhc2tdIHVzZWQgZm9yIGxpc3RlbmluZyBvbiBzb21lIGZ1dHVyZSBldmVudC4gVGhpcyBtYXkgZXhlY3V0ZSB6ZXJvIG9yIG1vcmUgdGltZXMsIHdpdGhcbiAqICAgIGFuIHVua25vd24gZGVsYXkuXG4gKlxuICogRWFjaCBhc3luY2hyb25vdXMgQVBJIGlzIG1vZGVsZWQgYW5kIHJvdXRlZCB0aHJvdWdoIG9uZSBvZiB0aGVzZSBBUElzLlxuICpcbiAqXG4gKiAjIyMgW01pY3JvVGFza11cbiAqXG4gKiBbTWljcm9UYXNrXXMgcmVwcmVzZW50IHdvcmsgd2hpY2ggd2lsbCBiZSBkb25lIGluIGN1cnJlbnQgVk0gdHVybiBhcyBzb29uIGFzIHBvc3NpYmxlLCBiZWZvcmUgVk1cbiAqIHlpZWxkaW5nLlxuICpcbiAqXG4gKiAjIyMgW01hY3JvVGFza11cbiAqXG4gKiBbTWFjcm9UYXNrXXMgcmVwcmVzZW50IHdvcmsgd2hpY2ggd2lsbCBiZSBkb25lIGFmdGVyIHNvbWUgZGVsYXkuIChTb21ldGltZXMgdGhlIGRlbGF5IGlzXG4gKiBhcHByb3hpbWF0ZSBzdWNoIGFzIG9uIG5leHQgYXZhaWxhYmxlIGFuaW1hdGlvbiBmcmFtZSkuIFR5cGljYWxseSB0aGVzZSBtZXRob2RzIGluY2x1ZGU6XG4gKiBgc2V0VGltZW91dGAsIGBzZXRJbW1lZGlhdGVgLCBgc2V0SW50ZXJ2YWxgLCBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCwgYW5kIGFsbCBicm93c2VyIHNwZWNpZmljXG4gKiB2YXJpYW50cy5cbiAqXG4gKlxuICogIyMjIFtFdmVudFRhc2tdXG4gKlxuICogW0V2ZW50VGFza11zIHJlcHJlc2VudCBhIHJlcXVlc3QgdG8gY3JlYXRlIGEgbGlzdGVuZXIgb24gYW4gZXZlbnQuIFVubGlrZSB0aGUgb3RoZXIgdGFza1xuICogZXZlbnRzIHRoZXkgbWF5IG5ldmVyIGJlIGV4ZWN1dGVkLCBidXQgdHlwaWNhbGx5IGV4ZWN1dGUgbW9yZSB0aGFuIG9uY2UuIFRoZXJlIGlzIG5vIHF1ZXVlIG9mXG4gKiBldmVudHMsIHJhdGhlciB0aGVpciBjYWxsYmFja3MgYXJlIHVucHJlZGljdGFibGUgYm90aCBpbiBvcmRlciBhbmQgdGltZS5cbiAqXG4gKlxuICogIyMgR2xvYmFsIEVycm9yIEhhbmRsaW5nXG4gKlxuICpcbiAqICMjIENvbXBvc2FiaWxpdHlcbiAqXG4gKiBab25lcyBjYW4gYmUgY29tcG9zZWQgdG9nZXRoZXIgdGhyb3VnaCBbWm9uZS5mb3JrKCldLiBBIGNoaWxkIHpvbmUgbWF5IGNyZWF0ZSBpdHMgb3duIHNldCBvZlxuICogcnVsZXMuIEEgY2hpbGQgem9uZSBpcyBleHBlY3RlZCB0byBlaXRoZXI6XG4gKlxuICogMS4gRGVsZWdhdGUgdGhlIGludGVyY2VwdGlvbiB0byBhIHBhcmVudCB6b25lLCBhbmQgb3B0aW9uYWxseSBhZGQgYmVmb3JlIGFuZCBhZnRlciB3cmFwQ2FsbGJhY2tcbiAqICAgIGhvb2tzLlxuICogMi4gUHJvY2VzcyB0aGUgcmVxdWVzdCBpdHNlbGYgd2l0aG91dCBkZWxlZ2F0aW9uLlxuICpcbiAqIENvbXBvc2FiaWxpdHkgYWxsb3dzIHpvbmVzIHRvIGtlZXAgdGhlaXIgY29uY2VybnMgY2xlYW4uIEZvciBleGFtcGxlIGEgdG9wIG1vc3Qgem9uZSBtYXkgY2hvb3NlXG4gKiB0byBoYW5kbGUgZXJyb3IgaGFuZGxpbmcsIHdoaWxlIGNoaWxkIHpvbmVzIG1heSBjaG9vc2UgdG8gZG8gdXNlciBhY3Rpb24gdHJhY2tpbmcuXG4gKlxuICpcbiAqICMjIFJvb3QgWm9uZVxuICpcbiAqIEF0IHRoZSBzdGFydCB0aGUgYnJvd3NlciB3aWxsIHJ1biBpbiBhIHNwZWNpYWwgcm9vdCB6b25lLCB3aGljaCBpcyBjb25maWd1cmVkIHRvIGJlaGF2ZSBleGFjdGx5XG4gKiBsaWtlIHRoZSBwbGF0Zm9ybSwgbWFraW5nIGFueSBleGlzdGluZyBjb2RlIHdoaWNoIGlzIG5vdCB6b25lLWF3YXJlIGJlaGF2ZSBhcyBleHBlY3RlZC4gQWxsXG4gKiB6b25lcyBhcmUgY2hpbGRyZW4gb2YgdGhlIHJvb3Qgem9uZS5cbiAqXG4gKi9cbmludGVyZmFjZSBab25lIHtcbiAgLyoqXG4gICAqXG4gICAqIEByZXR1cm5zIHtab25lfSBUaGUgcGFyZW50IFpvbmUuXG4gICAqL1xuICBwYXJlbnQ6IFpvbmV8bnVsbDtcbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBab25lIG5hbWUgKHVzZWZ1bCBmb3IgZGVidWdnaW5nKVxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBga2V5YC5cbiAgICpcbiAgICogSWYgdGhlIGN1cnJlbnQgem9uZSBkb2VzIG5vdCBoYXZlIGEga2V5LCB0aGUgcmVxdWVzdCBpcyBkZWxlZ2F0ZWQgdG8gdGhlIHBhcmVudCB6b25lLiBVc2VcbiAgICogW1pvbmVTcGVjLnByb3BlcnRpZXNdIHRvIGNvbmZpZ3VyZSB0aGUgc2V0IG9mIHByb3BlcnRpZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHpvbmUuXG4gICAqXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byByZXRyaWV2ZS5cbiAgICogQHJldHVybnMge2FueX0gVGhlIHZhbHVlIGZvciB0aGUga2V5LCBvciBgdW5kZWZpbmVkYCBpZiBub3QgZm91bmQuXG4gICAqL1xuICBnZXQoa2V5OiBzdHJpbmcpOiBhbnk7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgWm9uZSB3aGljaCBkZWZpbmVzIGEgYGtleWAuXG4gICAqXG4gICAqIFJlY3Vyc2l2ZWx5IHNlYXJjaCB0aGUgcGFyZW50IFpvbmUgdW50aWwgYSBab25lIHdoaWNoIGhhcyBhIHByb3BlcnR5IGBrZXlgIGlzIGZvdW5kLlxuICAgKlxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gdXNlIGZvciBpZGVudGlmaWNhdGlvbiBvZiB0aGUgcmV0dXJuZWQgem9uZS5cbiAgICogQHJldHVybnMge1pvbmV9IFRoZSBab25lIHdoaWNoIGRlZmluZXMgdGhlIGBrZXlgLCBgbnVsbGAgaWYgbm90IGZvdW5kLlxuICAgKi9cbiAgZ2V0Wm9uZVdpdGgoa2V5OiBzdHJpbmcpOiBab25lfG51bGw7XG4gIC8qKlxuICAgKiBVc2VkIHRvIGNyZWF0ZSBhIGNoaWxkIHpvbmUuXG4gICAqXG4gICAqIEBwYXJhbSB6b25lU3BlYyBBIHNldCBvZiBydWxlcyB3aGljaCB0aGUgY2hpbGQgem9uZSBzaG91bGQgZm9sbG93LlxuICAgKiBAcmV0dXJucyB7Wm9uZX0gQSBuZXcgY2hpbGQgem9uZS5cbiAgICovXG4gIGZvcmsoem9uZVNwZWM6IFpvbmVTcGVjKTogWm9uZTtcbiAgLyoqXG4gICAqIFdyYXBzIGEgY2FsbGJhY2sgZnVuY3Rpb24gaW4gYSBuZXcgZnVuY3Rpb24gd2hpY2ggd2lsbCBwcm9wZXJseSByZXN0b3JlIHRoZSBjdXJyZW50IHpvbmUgdXBvblxuICAgKiBpbnZvY2F0aW9uLlxuICAgKlxuICAgKiBUaGUgd3JhcHBlZCBmdW5jdGlvbiB3aWxsIHByb3Blcmx5IGZvcndhcmQgYHRoaXNgIGFzIHdlbGwgYXMgYGFyZ3VtZW50c2AgdG8gdGhlIGBjYWxsYmFja2AuXG4gICAqXG4gICAqIEJlZm9yZSB0aGUgZnVuY3Rpb24gaXMgd3JhcHBlZCB0aGUgem9uZSBjYW4gaW50ZXJjZXB0IHRoZSBgY2FsbGJhY2tgIGJ5IGRlY2xhcmluZ1xuICAgKiBbWm9uZVNwZWMub25JbnRlcmNlcHRdLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgdGhlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgd3JhcHBlZCBpbiB0aGUgem9uZS5cbiAgICogQHBhcmFtIHNvdXJjZSBBIHVuaXF1ZSBkZWJ1ZyBsb2NhdGlvbiBvZiB0aGUgQVBJIGJlaW5nIHdyYXBwZWQuXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbigpOiAqfSBBIGZ1bmN0aW9uIHdoaWNoIHdpbGwgaW52b2tlIHRoZSBgY2FsbGJhY2tgIHRocm91Z2ggW1pvbmUucnVuR3VhcmRlZF0uXG4gICAqL1xuICB3cmFwPEYgZXh0ZW5kcyBGdW5jdGlvbj4oY2FsbGJhY2s6IEYsIHNvdXJjZTogc3RyaW5nKTogRjtcbiAgLyoqXG4gICAqIEludm9rZXMgYSBmdW5jdGlvbiBpbiBhIGdpdmVuIHpvbmUuXG4gICAqXG4gICAqIFRoZSBpbnZvY2F0aW9uIG9mIGBjYWxsYmFja2AgY2FuIGJlIGludGVyY2VwdGVkIGJ5IGRlY2xhcmluZyBbWm9uZVNwZWMub25JbnZva2VdLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIGFwcGx5VGhpc1xuICAgKiBAcGFyYW0gYXBwbHlBcmdzXG4gICAqIEBwYXJhbSBzb3VyY2UgQSB1bmlxdWUgZGVidWcgbG9jYXRpb24gb2YgdGhlIEFQSSBiZWluZyBpbnZva2VkLlxuICAgKiBAcmV0dXJucyB7YW55fSBWYWx1ZSBmcm9tIHRoZSBgY2FsbGJhY2tgIGZ1bmN0aW9uLlxuICAgKi9cbiAgcnVuPFQ+KGNhbGxiYWNrOiBGdW5jdGlvbiwgYXBwbHlUaGlzPzogYW55LCBhcHBseUFyZ3M/OiBhbnlbXSwgc291cmNlPzogc3RyaW5nKTogVDtcbiAgLyoqXG4gICAqIEludm9rZXMgYSBmdW5jdGlvbiBpbiBhIGdpdmVuIHpvbmUgYW5kIGNhdGNoZXMgYW55IGV4Y2VwdGlvbnMuXG4gICAqXG4gICAqIEFueSBleGNlcHRpb25zIHRocm93biB3aWxsIGJlIGZvcndhcmRlZCB0byBbWm9uZS5IYW5kbGVFcnJvcl0uXG4gICAqXG4gICAqIFRoZSBpbnZvY2F0aW9uIG9mIGBjYWxsYmFja2AgY2FuIGJlIGludGVyY2VwdGVkIGJ5IGRlY2xhcmluZyBbWm9uZVNwZWMub25JbnZva2VdLiBUaGVcbiAgICogaGFuZGxpbmcgb2YgZXhjZXB0aW9ucyBjYW4gYmUgaW50ZXJjZXB0ZWQgYnkgZGVjbGFyaW5nIFtab25lU3BlYy5oYW5kbGVFcnJvcl0uXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgKiBAcGFyYW0gYXBwbHlUaGlzXG4gICAqIEBwYXJhbSBhcHBseUFyZ3NcbiAgICogQHBhcmFtIHNvdXJjZSBBIHVuaXF1ZSBkZWJ1ZyBsb2NhdGlvbiBvZiB0aGUgQVBJIGJlaW5nIGludm9rZWQuXG4gICAqIEByZXR1cm5zIHthbnl9IFZhbHVlIGZyb20gdGhlIGBjYWxsYmFja2AgZnVuY3Rpb24uXG4gICAqL1xuICBydW5HdWFyZGVkPFQ+KGNhbGxiYWNrOiBGdW5jdGlvbiwgYXBwbHlUaGlzPzogYW55LCBhcHBseUFyZ3M/OiBhbnlbXSwgc291cmNlPzogc3RyaW5nKTogVDtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgdGhlIFRhc2sgYnkgcmVzdG9yaW5nIHRoZSBbWm9uZS5jdXJyZW50VGFza10gaW4gdGhlIFRhc2sncyB6b25lLlxuICAgKlxuICAgKiBAcGFyYW0gdGFzayB0byBydW5cbiAgICogQHBhcmFtIGFwcGx5VGhpc1xuICAgKiBAcGFyYW0gYXBwbHlBcmdzXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgcnVuVGFzayh0YXNrOiBUYXNrLCBhcHBseVRoaXM/OiBhbnksIGFwcGx5QXJncz86IGFueSk6IGFueTtcblxuICAvKipcbiAgICogU2NoZWR1bGUgYSBNaWNyb1Rhc2suXG4gICAqXG4gICAqIEBwYXJhbSBzb3VyY2VcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBkYXRhXG4gICAqIEBwYXJhbSBjdXN0b21TY2hlZHVsZVxuICAgKi9cbiAgc2NoZWR1bGVNaWNyb1Rhc2soXG4gICAgICBzb3VyY2U6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uLCBkYXRhPzogVGFza0RhdGEsXG4gICAgICBjdXN0b21TY2hlZHVsZT86ICh0YXNrOiBUYXNrKSA9PiB2b2lkKTogTWljcm9UYXNrO1xuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSBhIE1hY3JvVGFzay5cbiAgICpcbiAgICogQHBhcmFtIHNvdXJjZVxuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICogQHBhcmFtIGRhdGFcbiAgICogQHBhcmFtIGN1c3RvbVNjaGVkdWxlXG4gICAqIEBwYXJhbSBjdXN0b21DYW5jZWxcbiAgICovXG4gIHNjaGVkdWxlTWFjcm9UYXNrKFxuICAgICAgc291cmNlOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbiwgZGF0YT86IFRhc2tEYXRhLCBjdXN0b21TY2hlZHVsZT86ICh0YXNrOiBUYXNrKSA9PiB2b2lkLFxuICAgICAgY3VzdG9tQ2FuY2VsPzogKHRhc2s6IFRhc2spID0+IHZvaWQpOiBNYWNyb1Rhc2s7XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlIGFuIEV2ZW50VGFzay5cbiAgICpcbiAgICogQHBhcmFtIHNvdXJjZVxuICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICogQHBhcmFtIGRhdGFcbiAgICogQHBhcmFtIGN1c3RvbVNjaGVkdWxlXG4gICAqIEBwYXJhbSBjdXN0b21DYW5jZWxcbiAgICovXG4gIHNjaGVkdWxlRXZlbnRUYXNrKFxuICAgICAgc291cmNlOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbiwgZGF0YT86IFRhc2tEYXRhLCBjdXN0b21TY2hlZHVsZT86ICh0YXNrOiBUYXNrKSA9PiB2b2lkLFxuICAgICAgY3VzdG9tQ2FuY2VsPzogKHRhc2s6IFRhc2spID0+IHZvaWQpOiBFdmVudFRhc2s7XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlIGFuIGV4aXN0aW5nIFRhc2suXG4gICAqXG4gICAqIFVzZWZ1bCBmb3IgcmVzY2hlZHVsaW5nIGEgdGFzayB3aGljaCB3YXMgYWxyZWFkeSBjYW5jZWxlZC5cbiAgICpcbiAgICogQHBhcmFtIHRhc2tcbiAgICovXG4gIHNjaGVkdWxlVGFzazxUIGV4dGVuZHMgVGFzaz4odGFzazogVCk6IFQ7XG5cbiAgLyoqXG4gICAqIEFsbG93cyB0aGUgem9uZSB0byBpbnRlcmNlcHQgY2FuY2VsaW5nIG9mIHNjaGVkdWxlZCBUYXNrLlxuICAgKlxuICAgKiBUaGUgaW50ZXJjZXB0aW9uIGlzIGNvbmZpZ3VyZWQgdXNpbmcgW1pvbmVTcGVjLm9uQ2FuY2VsVGFza10uIFRoZSBkZWZhdWx0IGNhbmNlbGVyIGludm9rZXNcbiAgICogdGhlIFtUYXNrLmNhbmNlbEZuXS5cbiAgICpcbiAgICogQHBhcmFtIHRhc2tcbiAgICogQHJldHVybnMge2FueX1cbiAgICovXG4gIGNhbmNlbFRhc2sodGFzazogVGFzayk6IGFueTtcbn1cblxuaW50ZXJmYWNlIFpvbmVUeXBlIHtcbiAgLyoqXG4gICAqIEByZXR1cm5zIHtab25lfSBSZXR1cm5zIHRoZSBjdXJyZW50IFtab25lXS4gVGhlIG9ubHkgd2F5IHRvIGNoYW5nZVxuICAgKiB0aGUgY3VycmVudCB6b25lIGlzIGJ5IGludm9raW5nIGEgcnVuKCkgbWV0aG9kLCB3aGljaCB3aWxsIHVwZGF0ZSB0aGUgY3VycmVudCB6b25lIGZvciB0aGVcbiAgICogZHVyYXRpb24gb2YgdGhlIHJ1biBtZXRob2QgY2FsbGJhY2suXG4gICAqL1xuICBjdXJyZW50OiBab25lO1xuICAvKipcbiAgICogQHJldHVybnMge1Rhc2t9IFRoZSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBleGVjdXRpb24uXG4gICAqL1xuICBjdXJyZW50VGFzazogVGFza3xudWxsO1xuXG4gIC8qKlxuICAgKiBWZXJpZnkgdGhhdCBab25lIGhhcyBiZWVuIGNvcnJlY3RseSBwYXRjaGVkLiBTcGVjaWZpY2FsbHkgdGhhdCBQcm9taXNlIGlzIHpvbmUgYXdhcmUuXG4gICAqL1xuICBhc3NlcnRab25lUGF0Y2hlZCgpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiAgUmV0dXJuIHRoZSByb290IHpvbmUuXG4gICAqL1xuICByb290OiBab25lO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX19sb2FkX3BhdGNoKG5hbWU6IHN0cmluZywgZm46IF9QYXRjaEZuKTogdm9pZDtcblxuICAvKiogQGludGVybmFsICovXG4gIF9fc3ltYm9sX18obmFtZTogc3RyaW5nKTogc3RyaW5nO1xufVxuXG4vKiogQGludGVybmFsICovXG50eXBlIF9QYXRjaEZuID0gKGdsb2JhbDogV2luZG93LCBab25lOiBab25lVHlwZSwgYXBpOiBfWm9uZVByaXZhdGUpID0+IHZvaWQ7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmludGVyZmFjZSBfWm9uZVByaXZhdGUge1xuICBjdXJyZW50Wm9uZUZyYW1lOiAoKSA9PiBfWm9uZUZyYW1lO1xuICBzeW1ib2w6IChuYW1lOiBzdHJpbmcpID0+IHN0cmluZztcbiAgc2NoZWR1bGVNaWNyb1Rhc2s6ICh0YXNrPzogTWljcm9UYXNrKSA9PiB2b2lkO1xuICBvblVuaGFuZGxlZEVycm9yOiAoZXJyb3I6IEVycm9yKSA9PiB2b2lkO1xuICBtaWNyb3Rhc2tEcmFpbkRvbmU6ICgpID0+IHZvaWQ7XG4gIHNob3dVbmNhdWdodEVycm9yOiAoKSA9PiBib29sZWFuO1xuICBwYXRjaEV2ZW50VGFyZ2V0OiAoZ2xvYmFsOiBhbnksIGFwaXM6IGFueVtdLCBvcHRpb25zPzogYW55KSA9PiBib29sZWFuW107XG4gIHBhdGNoT25Qcm9wZXJ0aWVzOiAob2JqOiBhbnksIHByb3BlcnRpZXM6IHN0cmluZ1tdfG51bGwsIHByb3RvdHlwZT86IGFueSkgPT4gdm9pZDtcbiAgcGF0Y2hUaGVuOiAoY3RybzogRnVuY3Rpb24pID0+IHZvaWQ7XG4gIHNldE5hdGl2ZVByb21pc2U6IChuYXRpdmVQcm9taXNlOiBhbnkpID0+IHZvaWQ7XG4gIHBhdGNoTWV0aG9kOlxuICAgICAgKHRhcmdldDogYW55LCBuYW1lOiBzdHJpbmcsXG4gICAgICAgcGF0Y2hGbjogKGRlbGVnYXRlOiBGdW5jdGlvbiwgZGVsZWdhdGVOYW1lOiBzdHJpbmcsIG5hbWU6IHN0cmluZykgPT5cbiAgICAgICAgICAgKHNlbGY6IGFueSwgYXJnczogYW55W10pID0+IGFueSkgPT4gRnVuY3Rpb24gfCBudWxsO1xuICBiaW5kQXJndW1lbnRzOiAoYXJnczogYW55W10sIHNvdXJjZTogc3RyaW5nKSA9PiBhbnlbXTtcbiAgcGF0Y2hNYWNyb1Rhc2s6XG4gICAgICAob2JqOiBhbnksIGZ1bmNOYW1lOiBzdHJpbmcsIG1ldGFDcmVhdG9yOiAoc2VsZjogYW55LCBhcmdzOiBhbnlbXSkgPT4gYW55KSA9PiB2b2lkO1xuICBwYXRjaEV2ZW50UHJvdG90eXBlOiAoX2dsb2JhbDogYW55LCBhcGk6IF9ab25lUHJpdmF0ZSkgPT4gdm9pZDtcbiAgaXNJRU9yRWRnZTogKCkgPT4gYm9vbGVhbjtcbiAgT2JqZWN0RGVmaW5lUHJvcGVydHk6XG4gICAgICAobzogYW55LCBwOiBQcm9wZXJ0eUtleSwgYXR0cmlidXRlczogUHJvcGVydHlEZXNjcmlwdG9yJlRoaXNUeXBlPGFueT4pID0+IGFueTtcbiAgT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAobzogYW55LCBwOiBQcm9wZXJ0eUtleSkgPT4gUHJvcGVydHlEZXNjcmlwdG9yIHwgdW5kZWZpbmVkO1xuICBPYmplY3RDcmVhdGUobzogb2JqZWN0fG51bGwsIHByb3BlcnRpZXM/OiBQcm9wZXJ0eURlc2NyaXB0b3JNYXAmVGhpc1R5cGU8YW55Pik6IGFueTtcbiAgQXJyYXlTbGljZShzdGFydD86IG51bWJlciwgZW5kPzogbnVtYmVyKTogYW55W107XG4gIHBhdGNoQ2xhc3M6IChjbGFzc05hbWU6IHN0cmluZykgPT4gdm9pZDtcbiAgd3JhcFdpdGhDdXJyZW50Wm9uZTogKGNhbGxiYWNrOiBhbnksIHNvdXJjZTogc3RyaW5nKSA9PiBhbnk7XG4gIGZpbHRlclByb3BlcnRpZXM6ICh0YXJnZXQ6IGFueSwgb25Qcm9wZXJ0aWVzOiBzdHJpbmdbXSwgaWdub3JlUHJvcGVydGllczogYW55W10pID0+IHN0cmluZ1tdO1xuICBhdHRhY2hPcmlnaW5Ub1BhdGNoZWQ6ICh0YXJnZXQ6IGFueSwgb3JpZ2luOiBhbnkpID0+IHZvaWQ7XG4gIF9yZWRlZmluZVByb3BlcnR5OiAodGFyZ2V0OiBhbnksIGNhbGxiYWNrOiBzdHJpbmcsIGRlc2M6IGFueSkgPT4gdm9pZDtcbiAgcGF0Y2hDYWxsYmFja3M6XG4gICAgICAoYXBpOiBfWm9uZVByaXZhdGUsIHRhcmdldDogYW55LCB0YXJnZXROYW1lOiBzdHJpbmcsIG1ldGhvZDogc3RyaW5nLFxuICAgICAgIGNhbGxiYWNrczogc3RyaW5nW10pID0+IHZvaWQ7XG4gIGdldEdsb2JhbE9iamVjdHM6ICgpID0+IHtcbiAgICBnbG9iYWxTb3VyY2VzOiBhbnksIHpvbmVTeW1ib2xFdmVudE5hbWVzOiBhbnksIGV2ZW50TmFtZXM6IHN0cmluZ1tdLCBpc0Jyb3dzZXI6IGJvb2xlYW4sXG4gICAgICAgIGlzTWl4OiBib29sZWFuLCBpc05vZGU6IGJvb2xlYW4sIFRSVUVfU1RSOiBzdHJpbmcsIEZBTFNFX1NUUjogc3RyaW5nLFxuICAgICAgICBaT05FX1NZTUJPTF9QUkVGSVg6IHN0cmluZywgQUREX0VWRU5UX0xJU1RFTkVSX1NUUjogc3RyaW5nLFxuICAgICAgICBSRU1PVkVfRVZFTlRfTElTVEVORVJfU1RSOiBzdHJpbmdcbiAgfSB8IHVuZGVmaW5lZDtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuaW50ZXJmYWNlIF9ab25lRnJhbWUge1xuICBwYXJlbnQ6IF9ab25lRnJhbWV8bnVsbDtcbiAgem9uZTogWm9uZTtcbn1cblxuaW50ZXJmYWNlIFVuY2F1Z2h0UHJvbWlzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICB6b25lOiBab25lO1xuICB0YXNrOiBUYXNrO1xuICBwcm9taXNlOiBQcm9taXNlPGFueT47XG4gIHJlamVjdGlvbjogYW55O1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGEgd2F5IHRvIGNvbmZpZ3VyZSB0aGUgaW50ZXJjZXB0aW9uIG9mIHpvbmUgZXZlbnRzLlxuICpcbiAqIE9ubHkgdGhlIGBuYW1lYCBwcm9wZXJ0eSBpcyByZXF1aXJlZCAoYWxsIG90aGVyIGFyZSBvcHRpb25hbCkuXG4gKi9cbmludGVyZmFjZSBab25lU3BlYyB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGUgem9uZS4gVXNlZnVsIHdoZW4gZGVidWdnaW5nIFpvbmVzLlxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIHNldCBvZiBwcm9wZXJ0aWVzIHRvIGJlIGFzc29jaWF0ZWQgd2l0aCBab25lLiBVc2UgW1pvbmUuZ2V0XSB0byByZXRyaWV2ZSB0aGVtLlxuICAgKi9cbiAgcHJvcGVydGllcz86IHtba2V5OiBzdHJpbmddOiBhbnl9O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgdGhlIGludGVyY2VwdGlvbiBvZiB6b25lIGZvcmtpbmcuXG4gICAqXG4gICAqIFdoZW4gdGhlIHpvbmUgaXMgYmVpbmcgZm9ya2VkLCB0aGUgcmVxdWVzdCBpcyBmb3J3YXJkZWQgdG8gdGhpcyBtZXRob2QgZm9yIGludGVyY2VwdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHBhcmVudFpvbmVEZWxlZ2F0ZSBEZWxlZ2F0ZSB3aGljaCBwZXJmb3JtcyB0aGUgcGFyZW50IFtab25lU3BlY10gb3BlcmF0aW9uLlxuICAgKiBAcGFyYW0gY3VycmVudFpvbmUgVGhlIGN1cnJlbnQgW1pvbmVdIHdoZXJlIHRoZSBjdXJyZW50IGludGVyY2VwdG9yIGhhcyBiZWVuIGRlY2xhcmVkLlxuICAgKiBAcGFyYW0gdGFyZ2V0Wm9uZSBUaGUgW1pvbmVdIHdoaWNoIG9yaWdpbmFsbHkgcmVjZWl2ZWQgdGhlIHJlcXVlc3QuXG4gICAqIEBwYXJhbSB6b25lU3BlYyBUaGUgYXJndW1lbnQgcGFzc2VkIGludG8gdGhlIGBmb3JrYCBtZXRob2QuXG4gICAqL1xuICBvbkZvcms/OlxuICAgICAgKHBhcmVudFpvbmVEZWxlZ2F0ZTogWm9uZURlbGVnYXRlLCBjdXJyZW50Wm9uZTogWm9uZSwgdGFyZ2V0Wm9uZTogWm9uZSxcbiAgICAgICB6b25lU3BlYzogWm9uZVNwZWMpID0+IFpvbmU7XG5cbiAgLyoqXG4gICAqIEFsbG93cyBpbnRlcmNlcHRpb24gb2YgdGhlIHdyYXBwaW5nIG9mIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogQHBhcmFtIHBhcmVudFpvbmVEZWxlZ2F0ZSBEZWxlZ2F0ZSB3aGljaCBwZXJmb3JtcyB0aGUgcGFyZW50IFtab25lU3BlY10gb3BlcmF0aW9uLlxuICAgKiBAcGFyYW0gY3VycmVudFpvbmUgVGhlIGN1cnJlbnQgW1pvbmVdIHdoZXJlIHRoZSBjdXJyZW50IGludGVyY2VwdG9yIGhhcyBiZWVuIGRlY2xhcmVkLlxuICAgKiBAcGFyYW0gdGFyZ2V0Wm9uZSBUaGUgW1pvbmVdIHdoaWNoIG9yaWdpbmFsbHkgcmVjZWl2ZWQgdGhlIHJlcXVlc3QuXG4gICAqIEBwYXJhbSBkZWxlZ2F0ZSBUaGUgYXJndW1lbnQgcGFzc2VkIGludG8gdGhlIGB3cmFwYCBtZXRob2QuXG4gICAqIEBwYXJhbSBzb3VyY2UgVGhlIGFyZ3VtZW50IHBhc3NlZCBpbnRvIHRoZSBgd3JhcGAgbWV0aG9kLlxuICAgKi9cbiAgb25JbnRlcmNlcHQ/OlxuICAgICAgKHBhcmVudFpvbmVEZWxlZ2F0ZTogWm9uZURlbGVnYXRlLCBjdXJyZW50Wm9uZTogWm9uZSwgdGFyZ2V0Wm9uZTogWm9uZSwgZGVsZWdhdGU6IEZ1bmN0aW9uLFxuICAgICAgIHNvdXJjZTogc3RyaW5nKSA9PiBGdW5jdGlvbjtcblxuICAvKipcbiAgICogQWxsb3dzIGludGVyY2VwdGlvbiBvZiB0aGUgY2FsbGJhY2sgaW52b2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHBhcmVudFpvbmVEZWxlZ2F0ZSBEZWxlZ2F0ZSB3aGljaCBwZXJmb3JtcyB0aGUgcGFyZW50IFtab25lU3BlY10gb3BlcmF0aW9uLlxuICAgKiBAcGFyYW0gY3VycmVudFpvbmUgVGhlIGN1cnJlbnQgW1pvbmVdIHdoZXJlIHRoZSBjdXJyZW50IGludGVyY2VwdG9yIGhhcyBiZWVuIGRlY2xhcmVkLlxuICAgKiBAcGFyYW0gdGFyZ2V0Wm9uZSBUaGUgW1pvbmVdIHdoaWNoIG9yaWdpbmFsbHkgcmVjZWl2ZWQgdGhlIHJlcXVlc3QuXG4gICAqIEBwYXJhbSBkZWxlZ2F0ZSBUaGUgYXJndW1lbnQgcGFzc2VkIGludG8gdGhlIGBydW5gIG1ldGhvZC5cbiAgICogQHBhcmFtIGFwcGx5VGhpcyBUaGUgYXJndW1lbnQgcGFzc2VkIGludG8gdGhlIGBydW5gIG1ldGhvZC5cbiAgICogQHBhcmFtIGFwcGx5QXJncyBUaGUgYXJndW1lbnQgcGFzc2VkIGludG8gdGhlIGBydW5gIG1ldGhvZC5cbiAgICogQHBhcmFtIHNvdXJjZSBUaGUgYXJndW1lbnQgcGFzc2VkIGludG8gdGhlIGBydW5gIG1ldGhvZC5cbiAgICovXG4gIG9uSW52b2tlPzpcbiAgICAgIChwYXJlbnRab25lRGVsZWdhdGU6IFpvbmVEZWxlZ2F0ZSwgY3VycmVudFpvbmU6IFpvbmUsIHRhcmdldFpvbmU6IFpvbmUsIGRlbGVnYXRlOiBGdW5jdGlvbixcbiAgICAgICBhcHBseVRoaXM6IGFueSwgYXBwbHlBcmdzPzogYW55W10sIHNvdXJjZT86IHN0cmluZykgPT4gYW55O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgaW50ZXJjZXB0aW9uIG9mIHRoZSBlcnJvciBoYW5kbGluZy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmVudFpvbmVEZWxlZ2F0ZSBEZWxlZ2F0ZSB3aGljaCBwZXJmb3JtcyB0aGUgcGFyZW50IFtab25lU3BlY10gb3BlcmF0aW9uLlxuICAgKiBAcGFyYW0gY3VycmVudFpvbmUgVGhlIGN1cnJlbnQgW1pvbmVdIHdoZXJlIHRoZSBjdXJyZW50IGludGVyY2VwdG9yIGhhcyBiZWVuIGRlY2xhcmVkLlxuICAgKiBAcGFyYW0gdGFyZ2V0Wm9uZSBUaGUgW1pvbmVdIHdoaWNoIG9yaWdpbmFsbHkgcmVjZWl2ZWQgdGhlIHJlcXVlc3QuXG4gICAqIEBwYXJhbSBlcnJvciBUaGUgYXJndW1lbnQgcGFzc2VkIGludG8gdGhlIGBoYW5kbGVFcnJvcmAgbWV0aG9kLlxuICAgKi9cbiAgb25IYW5kbGVFcnJvcj86XG4gICAgICAocGFyZW50Wm9uZURlbGVnYXRlOiBab25lRGVsZWdhdGUsIGN1cnJlbnRab25lOiBab25lLCB0YXJnZXRab25lOiBab25lLFxuICAgICAgIGVycm9yOiBhbnkpID0+IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFsbG93cyBpbnRlcmNlcHRpb24gb2YgdGFzayBzY2hlZHVsaW5nLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50Wm9uZURlbGVnYXRlIERlbGVnYXRlIHdoaWNoIHBlcmZvcm1zIHRoZSBwYXJlbnQgW1pvbmVTcGVjXSBvcGVyYXRpb24uXG4gICAqIEBwYXJhbSBjdXJyZW50Wm9uZSBUaGUgY3VycmVudCBbWm9uZV0gd2hlcmUgdGhlIGN1cnJlbnQgaW50ZXJjZXB0b3IgaGFzIGJlZW4gZGVjbGFyZWQuXG4gICAqIEBwYXJhbSB0YXJnZXRab25lIFRoZSBbWm9uZV0gd2hpY2ggb3JpZ2luYWxseSByZWNlaXZlZCB0aGUgcmVxdWVzdC5cbiAgICogQHBhcmFtIHRhc2sgVGhlIGFyZ3VtZW50IHBhc3NlZCBpbnRvIHRoZSBgc2NoZWR1bGVUYXNrYCBtZXRob2QuXG4gICAqL1xuICBvblNjaGVkdWxlVGFzaz86XG4gICAgICAocGFyZW50Wm9uZURlbGVnYXRlOiBab25lRGVsZWdhdGUsIGN1cnJlbnRab25lOiBab25lLCB0YXJnZXRab25lOiBab25lLCB0YXNrOiBUYXNrKSA9PiBUYXNrO1xuXG4gIG9uSW52b2tlVGFzaz86XG4gICAgICAocGFyZW50Wm9uZURlbGVnYXRlOiBab25lRGVsZWdhdGUsIGN1cnJlbnRab25lOiBab25lLCB0YXJnZXRab25lOiBab25lLCB0YXNrOiBUYXNrLFxuICAgICAgIGFwcGx5VGhpczogYW55LCBhcHBseUFyZ3M/OiBhbnlbXSkgPT4gYW55O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgaW50ZXJjZXB0aW9uIG9mIHRhc2sgY2FuY2VsbGF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50Wm9uZURlbGVnYXRlIERlbGVnYXRlIHdoaWNoIHBlcmZvcm1zIHRoZSBwYXJlbnQgW1pvbmVTcGVjXSBvcGVyYXRpb24uXG4gICAqIEBwYXJhbSBjdXJyZW50Wm9uZSBUaGUgY3VycmVudCBbWm9uZV0gd2hlcmUgdGhlIGN1cnJlbnQgaW50ZXJjZXB0b3IgaGFzIGJlZW4gZGVjbGFyZWQuXG4gICAqIEBwYXJhbSB0YXJnZXRab25lIFRoZSBbWm9uZV0gd2hpY2ggb3JpZ2luYWxseSByZWNlaXZlZCB0aGUgcmVxdWVzdC5cbiAgICogQHBhcmFtIHRhc2sgVGhlIGFyZ3VtZW50IHBhc3NlZCBpbnRvIHRoZSBgY2FuY2VsVGFza2AgbWV0aG9kLlxuICAgKi9cbiAgb25DYW5jZWxUYXNrPzpcbiAgICAgIChwYXJlbnRab25lRGVsZWdhdGU6IFpvbmVEZWxlZ2F0ZSwgY3VycmVudFpvbmU6IFpvbmUsIHRhcmdldFpvbmU6IFpvbmUsIHRhc2s6IFRhc2spID0+IGFueTtcblxuICAvKipcbiAgICogTm90aWZpZXMgb2YgY2hhbmdlcyB0byB0aGUgdGFzayBxdWV1ZSBlbXB0eSBzdGF0dXMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJlbnRab25lRGVsZWdhdGUgRGVsZWdhdGUgd2hpY2ggcGVyZm9ybXMgdGhlIHBhcmVudCBbWm9uZVNwZWNdIG9wZXJhdGlvbi5cbiAgICogQHBhcmFtIGN1cnJlbnRab25lIFRoZSBjdXJyZW50IFtab25lXSB3aGVyZSB0aGUgY3VycmVudCBpbnRlcmNlcHRvciBoYXMgYmVlbiBkZWNsYXJlZC5cbiAgICogQHBhcmFtIHRhcmdldFpvbmUgVGhlIFtab25lXSB3aGljaCBvcmlnaW5hbGx5IHJlY2VpdmVkIHRoZSByZXF1ZXN0LlxuICAgKiBAcGFyYW0gaGFzVGFza1N0YXRlXG4gICAqL1xuICBvbkhhc1Rhc2s/OlxuICAgICAgKHBhcmVudFpvbmVEZWxlZ2F0ZTogWm9uZURlbGVnYXRlLCBjdXJyZW50Wm9uZTogWm9uZSwgdGFyZ2V0Wm9uZTogWm9uZSxcbiAgICAgICBoYXNUYXNrU3RhdGU6IEhhc1Rhc2tTdGF0ZSkgPT4gdm9pZDtcbn1cblxuXG4vKipcbiAqICBBIGRlbGVnYXRlIHdoZW4gaW50ZXJjZXB0aW5nIHpvbmUgb3BlcmF0aW9ucy5cbiAqXG4gKiAgQSBab25lRGVsZWdhdGUgaXMgbmVlZGVkIGJlY2F1c2UgYSBjaGlsZCB6b25lIGNhbid0IHNpbXBseSBpbnZva2UgYSBtZXRob2Qgb24gYSBwYXJlbnQgem9uZS4gRm9yXG4gKiAgZXhhbXBsZSBhIGNoaWxkIHpvbmUgd3JhcCBjYW4ndCBqdXN0IGNhbGwgcGFyZW50IHpvbmUgd3JhcC4gRG9pbmcgc28gd291bGQgY3JlYXRlIGEgY2FsbGJhY2tcbiAqICB3aGljaCBpcyBib3VuZCB0byB0aGUgcGFyZW50IHpvbmUuIFdoYXQgd2UgYXJlIGludGVyZXN0ZWQgaW4gaXMgaW50ZXJjZXB0aW5nIHRoZSBjYWxsYmFjayBiZWZvcmVcbiAqICBpdCBpcyBib3VuZCB0byBhbnkgem9uZS4gRnVydGhlcm1vcmUsIHdlIGFsc28gbmVlZCB0byBwYXNzIHRoZSB0YXJnZXRab25lICh6b25lIHdoaWNoIHJlY2VpdmVkXG4gKiAgdGhlIG9yaWdpbmFsIHJlcXVlc3QpIHRvIHRoZSBkZWxlZ2F0ZS5cbiAqXG4gKiAgVGhlIFpvbmVEZWxlZ2F0ZSBtZXRob2RzIG1pcnJvciB0aG9zZSBvZiBab25lIHdpdGggYW4gYWRkaXRpb24gb2YgZXh0cmEgdGFyZ2V0Wm9uZSBhcmd1bWVudCBpblxuICogIHRoZSBtZXRob2Qgc2lnbmF0dXJlLiAoVGhlIG9yaWdpbmFsIFpvbmUgd2hpY2ggcmVjZWl2ZWQgdGhlIHJlcXVlc3QuKSBTb21lIG1ldGhvZHMgYXJlIHJlbmFtZWRcbiAqICB0byBwcmV2ZW50IGNvbmZ1c2lvbiwgYmVjYXVzZSB0aGV5IGhhdmUgc2xpZ2h0bHkgZGlmZmVyZW50IHNlbWFudGljcyBhbmQgYXJndW1lbnRzLlxuICpcbiAqICAtIGB3cmFwYCA9PiBgaW50ZXJjZXB0YDogVGhlIGB3cmFwYCBtZXRob2QgZGVsZWdhdGVzIHRvIGBpbnRlcmNlcHRgLiBUaGUgYHdyYXBgIG1ldGhvZCByZXR1cm5zXG4gKiAgICAgYSBjYWxsYmFjayB3aGljaCB3aWxsIHJ1biBpbiBhIGdpdmVuIHpvbmUsIHdoZXJlIGFzIGludGVyY2VwdCBhbGxvd3Mgd3JhcHBpbmcgdGhlIGNhbGxiYWNrXG4gKiAgICAgc28gdGhhdCBhZGRpdGlvbmFsIGNvZGUgY2FuIGJlIHJ1biBiZWZvcmUgYW5kIGFmdGVyLCBidXQgZG9lcyBub3QgYXNzb2NpYXRlIHRoZSBjYWxsYmFja1xuICogICAgIHdpdGggdGhlIHpvbmUuXG4gKiAgLSBgcnVuYCA9PiBgaW52b2tlYDogVGhlIGBydW5gIG1ldGhvZCBkZWxlZ2F0ZXMgdG8gYGludm9rZWAgdG8gcGVyZm9ybSB0aGUgYWN0dWFsIGV4ZWN1dGlvbiBvZlxuICogICAgIHRoZSBjYWxsYmFjay4gVGhlIGBydW5gIG1ldGhvZCBzd2l0Y2hlcyB0byBuZXcgem9uZTsgc2F2ZXMgYW5kIHJlc3RvcmVzIHRoZSBgWm9uZS5jdXJyZW50YDtcbiAqICAgICBhbmQgb3B0aW9uYWxseSBwZXJmb3JtcyBlcnJvciBoYW5kbGluZy4gVGhlIGludm9rZSBpcyBub3QgcmVzcG9uc2libGUgZm9yIGVycm9yIGhhbmRsaW5nLFxuICogICAgIG9yIHpvbmUgbWFuYWdlbWVudC5cbiAqXG4gKiAgTm90IGV2ZXJ5IG1ldGhvZCBpcyB1c3VhbGx5IG92ZXJ3cml0dGVuIGluIHRoZSBjaGlsZCB6b25lLCBmb3IgdGhpcyByZWFzb24gdGhlIFpvbmVEZWxlZ2F0ZVxuICogIHN0b3JlcyB0aGUgY2xvc2VzdCB6b25lIHdoaWNoIG92ZXJ3cml0ZXMgdGhpcyBiZWhhdmlvciBhbG9uZyB3aXRoIHRoZSBjbG9zZXN0IFpvbmVTcGVjLlxuICpcbiAqICBOT1RFOiBXZSBoYXZlIHRyaWVkIHRvIG1ha2UgdGhpcyBBUEkgYW5hbG9nb3VzIHRvIEV2ZW50IGJ1YmJsaW5nIHdpdGggdGFyZ2V0IGFuZCBjdXJyZW50XG4gKiAgcHJvcGVydGllcy5cbiAqXG4gKiAgTm90ZTogVGhlIFpvbmVEZWxlZ2F0ZSB0cmVhdHMgWm9uZVNwZWMgYXMgY2xhc3MuIFRoaXMgYWxsb3dzIHRoZSBab25lU3BlYyB0byB1c2UgaXRzIGB0aGlzYCB0b1xuICogIHN0b3JlIGludGVybmFsIHN0YXRlLlxuICovXG5pbnRlcmZhY2UgWm9uZURlbGVnYXRlIHtcbiAgem9uZTogWm9uZTtcbiAgZm9yayh0YXJnZXRab25lOiBab25lLCB6b25lU3BlYzogWm9uZVNwZWMpOiBab25lO1xuICBpbnRlcmNlcHQodGFyZ2V0Wm9uZTogWm9uZSwgY2FsbGJhY2s6IEZ1bmN0aW9uLCBzb3VyY2U6IHN0cmluZyk6IEZ1bmN0aW9uO1xuICBpbnZva2UodGFyZ2V0Wm9uZTogWm9uZSwgY2FsbGJhY2s6IEZ1bmN0aW9uLCBhcHBseVRoaXM/OiBhbnksIGFwcGx5QXJncz86IGFueVtdLCBzb3VyY2U/OiBzdHJpbmcpOlxuICAgICAgYW55O1xuICBoYW5kbGVFcnJvcih0YXJnZXRab25lOiBab25lLCBlcnJvcjogYW55KTogYm9vbGVhbjtcbiAgc2NoZWR1bGVUYXNrKHRhcmdldFpvbmU6IFpvbmUsIHRhc2s6IFRhc2spOiBUYXNrO1xuICBpbnZva2VUYXNrKHRhcmdldFpvbmU6IFpvbmUsIHRhc2s6IFRhc2ssIGFwcGx5VGhpcz86IGFueSwgYXBwbHlBcmdzPzogYW55W10pOiBhbnk7XG4gIGNhbmNlbFRhc2sodGFyZ2V0Wm9uZTogWm9uZSwgdGFzazogVGFzayk6IGFueTtcbiAgaGFzVGFzayh0YXJnZXRab25lOiBab25lLCBpc0VtcHR5OiBIYXNUYXNrU3RhdGUpOiB2b2lkO1xufVxuXG50eXBlIEhhc1Rhc2tTdGF0ZSA9IHtcbiAgbWljcm9UYXNrOiBib29sZWFuOyBtYWNyb1Rhc2s6IGJvb2xlYW47IGV2ZW50VGFzazogYm9vbGVhbjsgY2hhbmdlOiBUYXNrVHlwZTtcbn07XG5cbi8qKlxuICogVGFzayB0eXBlOiBgbWljcm9UYXNrYCwgYG1hY3JvVGFza2AsIGBldmVudFRhc2tgLlxuICovXG50eXBlIFRhc2tUeXBlID0gJ21pY3JvVGFzayd8J21hY3JvVGFzayd8J2V2ZW50VGFzayc7XG5cbi8qKlxuICogVGFzayB0eXBlOiBgbm90U2NoZWR1bGVkYCwgYHNjaGVkdWxpbmdgLCBgc2NoZWR1bGVkYCwgYHJ1bm5pbmdgLCBgY2FuY2VsaW5nYCwgJ3Vua25vd24nLlxuICovXG50eXBlIFRhc2tTdGF0ZSA9ICdub3RTY2hlZHVsZWQnfCdzY2hlZHVsaW5nJ3wnc2NoZWR1bGVkJ3wncnVubmluZyd8J2NhbmNlbGluZyd8J3Vua25vd24nO1xuXG5cbi8qKlxuICovXG5pbnRlcmZhY2UgVGFza0RhdGEge1xuICAvKipcbiAgICogQSBwZXJpb2RpYyBbTWFjcm9UYXNrXSBpcyBzdWNoIHdoaWNoIGdldCBhdXRvbWF0aWNhbGx5IHJlc2NoZWR1bGVkIGFmdGVyIGl0IGlzIGV4ZWN1dGVkLlxuICAgKi9cbiAgaXNQZXJpb2RpYz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERlbGF5IGluIG1pbGxpc2Vjb25kcyB3aGVuIHRoZSBUYXNrIHdpbGwgcnVuLlxuICAgKi9cbiAgZGVsYXk/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIGlkZW50aWZpZXIgcmV0dXJuZWQgYnkgdGhlIG5hdGl2ZSBzZXRUaW1lb3V0LlxuICAgKi9cbiAgaGFuZGxlSWQ/OiBudW1iZXI7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyB3b3JrIHdoaWNoIGlzIGV4ZWN1dGVkIHdpdGggYSBjbGVhbiBzdGFjay5cbiAqXG4gKiBUYXNrcyBhcmUgdXNlZCBpbiBab25lcyB0byBtYXJrIHdvcmsgd2hpY2ggaXMgcGVyZm9ybWVkIG9uIGNsZWFuIHN0YWNrIGZyYW1lLiBUaGVyZSBhcmUgdGhyZWVcbiAqIGtpbmRzIG9mIHRhc2suIFtNaWNyb1Rhc2tdLCBbTWFjcm9UYXNrXSwgYW5kIFtFdmVudFRhc2tdLlxuICpcbiAqIEEgSlMgVk0gY2FuIGJlIG1vZGVsZWQgYXMgYSBbTWljcm9UYXNrXSBxdWV1ZSwgW01hY3JvVGFza10gcXVldWUsIGFuZCBbRXZlbnRUYXNrXSBzZXQuXG4gKlxuICogLSBbTWljcm9UYXNrXSBxdWV1ZSByZXByZXNlbnRzIGEgc2V0IG9mIHRhc2tzIHdoaWNoIGFyZSBleGVjdXRpbmcgcmlnaHQgYWZ0ZXIgdGhlIGN1cnJlbnQgc3RhY2tcbiAqICAgZnJhbWUgYmVjb21lcyBjbGVhbiBhbmQgYmVmb3JlIGEgVk0geWllbGQuIEFsbCBbTWljcm9UYXNrXXMgZXhlY3V0ZSBpbiBvcmRlciBvZiBpbnNlcnRpb25cbiAqICAgYmVmb3JlIFZNIHlpZWxkIGFuZCB0aGUgbmV4dCBbTWFjcm9UYXNrXSBpcyBleGVjdXRlZC5cbiAqIC0gW01hY3JvVGFza10gcXVldWUgcmVwcmVzZW50cyBhIHNldCBvZiB0YXNrcyB3aGljaCBhcmUgZXhlY3V0ZWQgb25lIGF0IGEgdGltZSBhZnRlciBlYWNoIFZNXG4gKiAgIHlpZWxkLiBUaGUgcXVldWUgaXMgb3JkZXJlZCBieSB0aW1lLCBhbmQgaW5zZXJ0aW9ucyBjYW4gaGFwcGVuIGluIGFueSBsb2NhdGlvbi5cbiAqIC0gW0V2ZW50VGFza10gaXMgYSBzZXQgb2YgdGFza3Mgd2hpY2ggY2FuIGF0IGFueSB0aW1lIGJlIGluc2VydGVkIHRvIHRoZSBlbmQgb2YgdGhlIFtNYWNyb1Rhc2tdXG4gKiAgIHF1ZXVlLiBUaGlzIGhhcHBlbnMgd2hlbiB0aGUgZXZlbnQgZmlyZXMuXG4gKlxuICovXG5pbnRlcmZhY2UgVGFzayB7XG4gIC8qKlxuICAgKiBUYXNrIHR5cGU6IGBtaWNyb1Rhc2tgLCBgbWFjcm9UYXNrYCwgYGV2ZW50VGFza2AuXG4gICAqL1xuICB0eXBlOiBUYXNrVHlwZTtcblxuICAvKipcbiAgICogVGFzayBzdGF0ZTogYG5vdFNjaGVkdWxlZGAsIGBzY2hlZHVsaW5nYCwgYHNjaGVkdWxlZGAsIGBydW5uaW5nYCwgYGNhbmNlbGluZ2AsIGB1bmtub3duYC5cbiAgICovXG4gIHN0YXRlOiBUYXNrU3RhdGU7XG5cbiAgLyoqXG4gICAqIERlYnVnIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIEFQSSB3aGljaCByZXF1ZXN0ZWQgdGhlIHNjaGVkdWxpbmcgb2YgdGhlIHRhc2suXG4gICAqL1xuICBzb3VyY2U6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIEZ1bmN0aW9uIHRvIGJlIHVzZWQgYnkgdGhlIFZNIHVwb24gZW50ZXJpbmcgdGhlIFtUYXNrXS4gVGhpcyBmdW5jdGlvbiB3aWxsIGRlbGVnYXRlIHRvXG4gICAqIFtab25lLnJ1blRhc2tdIGFuZCBkZWxlZ2F0ZSB0byBgY2FsbGJhY2tgLlxuICAgKi9cbiAgaW52b2tlOiBGdW5jdGlvbjtcblxuICAvKipcbiAgICogRnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gYmUgZXhlY3V0ZWQgYnkgdGhlIFRhc2sgYWZ0ZXIgdGhlIFtab25lLmN1cnJlbnRUYXNrXSBoYXMgYmVlbiBzZXQgdG9cbiAgICogdGhlIGN1cnJlbnQgdGFzay5cbiAgICovXG4gIGNhbGxiYWNrOiBGdW5jdGlvbjtcblxuICAvKipcbiAgICogVGFzayBzcGVjaWZpYyBvcHRpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCB0YXNrLiBUaGlzIGlzIHBhc3NlZCB0byB0aGUgYHNjaGVkdWxlRm5gLlxuICAgKi9cbiAgZGF0YT86IFRhc2tEYXRhO1xuXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHRoZSBkZWZhdWx0IHdvcmsgd2hpY2ggbmVlZHMgdG8gYmUgZG9uZSB0byBzY2hlZHVsZSB0aGUgVGFzayBieSB0aGUgVk0uXG4gICAqXG4gICAqIEEgem9uZSBtYXkgY2hvb3NlIHRvIGludGVyY2VwdCB0aGlzIGZ1bmN0aW9uIGFuZCBwZXJmb3JtIGl0cyBvd24gc2NoZWR1bGluZy5cbiAgICovXG4gIHNjaGVkdWxlRm4/OiAodGFzazogVGFzaykgPT4gdm9pZDtcblxuICAvKipcbiAgICogUmVwcmVzZW50cyB0aGUgZGVmYXVsdCB3b3JrIHdoaWNoIG5lZWRzIHRvIGJlIGRvbmUgdG8gdW4tc2NoZWR1bGUgdGhlIFRhc2sgZnJvbSB0aGUgVk0uIE5vdCBhbGxcbiAgICogVGFza3MgYXJlIGNhbmNlbGFibGUsIGFuZCB0aGVyZWZvcmUgdGhpcyBtZXRob2QgaXMgb3B0aW9uYWwuXG4gICAqXG4gICAqIEEgem9uZSBtYXkgY2hvc2UgdG8gaW50ZXJjZXB0IHRoaXMgZnVuY3Rpb24gYW5kIHBlcmZvcm0gaXRzIG93biB1bi1zY2hlZHVsaW5nLlxuICAgKi9cbiAgY2FuY2VsRm4/OiAodGFzazogVGFzaykgPT4gdm9pZDtcblxuICAvKipcbiAgICogQHR5cGUge1pvbmV9IFRoZSB6b25lIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBpbnZva2UgdGhlIGBjYWxsYmFja2AuIFRoZSBab25lIGlzIGNhcHR1cmVkXG4gICAqIGF0IHRoZSB0aW1lIG9mIFRhc2sgY3JlYXRpb24uXG4gICAqL1xuICByZWFkb25seSB6b25lOiBab25lO1xuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgdGltZXMgdGhlIHRhc2sgaGFzIGJlZW4gZXhlY3V0ZWQsIG9yIC0xIGlmIGNhbmNlbGVkLlxuICAgKi9cbiAgcnVuQ291bnQ6IG51bWJlcjtcblxuICAvKipcbiAgICogQ2FuY2VsIHRoZSBzY2hlZHVsaW5nIHJlcXVlc3QuIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgZnJvbSBgWm9uZVNwZWMub25TY2hlZHVsZVRhc2tgIHRvXG4gICAqIGNhbmNlbCB0aGUgY3VycmVudCBzY2hlZHVsaW5nIGludGVyY2VwdGlvbi4gT25jZSBjYW5jZWxlZCB0aGUgdGFzayBjYW4gYmUgZGlzY2FyZGVkIG9yXG4gICAqIHJlc2NoZWR1bGVkIHVzaW5nIGBab25lLnNjaGVkdWxlVGFza2Agb24gYSBkaWZmZXJlbnQgem9uZS5cbiAgICovXG4gIGNhbmNlbFNjaGVkdWxlUmVxdWVzdCgpOiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgTWljcm9UYXNrIGV4dGVuZHMgVGFzayB7XG4gIHR5cGU6ICdtaWNyb1Rhc2snO1xufVxuXG5pbnRlcmZhY2UgTWFjcm9UYXNrIGV4dGVuZHMgVGFzayB7XG4gIHR5cGU6ICdtYWNyb1Rhc2snO1xufVxuXG5pbnRlcmZhY2UgRXZlbnRUYXNrIGV4dGVuZHMgVGFzayB7XG4gIHR5cGU6ICdldmVudFRhc2snO1xufVxuXG4vKiogQGludGVybmFsICovXG50eXBlIEFtYmllbnRab25lID0gWm9uZTtcbi8qKiBAaW50ZXJuYWwgKi9cbnR5cGUgQW1iaWVudFpvbmVEZWxlZ2F0ZSA9IFpvbmVEZWxlZ2F0ZTtcblxuY29uc3QgWm9uZTogWm9uZVR5cGUgPSAoZnVuY3Rpb24oZ2xvYmFsOiBhbnkpIHtcbiAgY29uc3QgcGVyZm9ybWFuY2U6IHttYXJrKG5hbWU6IHN0cmluZyk6IHZvaWQ7IG1lYXN1cmUobmFtZTogc3RyaW5nLCBsYWJlbDogc3RyaW5nKTogdm9pZDt9ID1cbiAgICAgIGdsb2JhbFsncGVyZm9ybWFuY2UnXTtcbiAgZnVuY3Rpb24gbWFyayhuYW1lOiBzdHJpbmcpIHtcbiAgICBwZXJmb3JtYW5jZSAmJiBwZXJmb3JtYW5jZVsnbWFyayddICYmIHBlcmZvcm1hbmNlWydtYXJrJ10obmFtZSk7XG4gIH1cbiAgZnVuY3Rpb24gcGVyZm9ybWFuY2VNZWFzdXJlKG5hbWU6IHN0cmluZywgbGFiZWw6IHN0cmluZykge1xuICAgIHBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlWydtZWFzdXJlJ10gJiYgcGVyZm9ybWFuY2VbJ21lYXN1cmUnXShuYW1lLCBsYWJlbCk7XG4gIH1cbiAgbWFyaygnWm9uZScpO1xuICBjb25zdCBjaGVja0R1cGxpY2F0ZSA9IGdsb2JhbFsoJ19fem9uZV9zeW1ib2xfX2ZvcmNlRHVwbGljYXRlWm9uZUNoZWNrJyldID09PSB0cnVlO1xuICBpZiAoZ2xvYmFsWydab25lJ10pIHtcbiAgICAvLyBpZiBnbG9iYWxbJ1pvbmUnXSBhbHJlYWR5IGV4aXN0cyAobWF5YmUgem9uZS5qcyB3YXMgYWxyZWFkeSBsb2FkZWQgb3JcbiAgICAvLyBzb21lIG90aGVyIGxpYiBhbHNvIHJlZ2lzdGVyZWQgYSBnbG9iYWwgb2JqZWN0IG5hbWVkIFpvbmUpLCB3ZSBtYXkgbmVlZFxuICAgIC8vIHRvIHRocm93IGFuIGVycm9yLCBidXQgc29tZXRpbWVzIHVzZXIgbWF5IG5vdCB3YW50IHRoaXMgZXJyb3IuXG4gICAgLy8gRm9yIGV4YW1wbGUsXG4gICAgLy8gd2UgaGF2ZSB0d28gd2ViIHBhZ2VzLCBwYWdlMSBpbmNsdWRlcyB6b25lLmpzLCBwYWdlMiBkb2Vzbid0LlxuICAgIC8vIGFuZCB0aGUgMXN0IHRpbWUgdXNlciBsb2FkIHBhZ2UxIGFuZCBwYWdlMiwgZXZlcnl0aGluZyB3b3JrIGZpbmUsXG4gICAgLy8gYnV0IHdoZW4gdXNlciBsb2FkIHBhZ2UyIGFnYWluLCBlcnJvciBvY2N1cnMgYmVjYXVzZSBnbG9iYWxbJ1pvbmUnXSBhbHJlYWR5IGV4aXN0cy5cbiAgICAvLyBzbyB3ZSBhZGQgYSBmbGFnIHRvIGxldCB1c2VyIGNob29zZSB3aGV0aGVyIHRvIHRocm93IHRoaXMgZXJyb3Igb3Igbm90LlxuICAgIC8vIEJ5IGRlZmF1bHQsIGlmIGV4aXN0aW5nIFpvbmUgaXMgZnJvbSB6b25lLmpzLCB3ZSB3aWxsIG5vdCB0aHJvdyB0aGUgZXJyb3IuXG4gICAgaWYgKGNoZWNrRHVwbGljYXRlIHx8IHR5cGVvZiBnbG9iYWxbJ1pvbmUnXS5fX3N5bWJvbF9fICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1pvbmUgYWxyZWFkeSBsb2FkZWQuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnbG9iYWxbJ1pvbmUnXTtcbiAgICB9XG4gIH1cblxuICBjbGFzcyBab25lIGltcGxlbWVudHMgQW1iaWVudFpvbmUge1xuICAgIHN0YXRpYyBfX3N5bWJvbF9fOiAobmFtZTogc3RyaW5nKSA9PiBzdHJpbmcgPSBfX3N5bWJvbF9fO1xuXG4gICAgc3RhdGljIGFzc2VydFpvbmVQYXRjaGVkKCkge1xuICAgICAgaWYgKGdsb2JhbFsnUHJvbWlzZSddICE9PSBwYXRjaGVzWydab25lQXdhcmVQcm9taXNlJ10pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ1pvbmUuanMgaGFzIGRldGVjdGVkIHRoYXQgWm9uZUF3YXJlUHJvbWlzZSBgKHdpbmRvd3xnbG9iYWwpLlByb21pc2VgICcgK1xuICAgICAgICAgICAgJ2hhcyBiZWVuIG92ZXJ3cml0dGVuLlxcbicgK1xuICAgICAgICAgICAgJ01vc3QgbGlrZWx5IGNhdXNlIGlzIHRoYXQgYSBQcm9taXNlIHBvbHlmaWxsIGhhcyBiZWVuIGxvYWRlZCAnICtcbiAgICAgICAgICAgICdhZnRlciBab25lLmpzIChQb2x5ZmlsbGluZyBQcm9taXNlIGFwaSBpcyBub3QgbmVjZXNzYXJ5IHdoZW4gem9uZS5qcyBpcyBsb2FkZWQuICcgK1xuICAgICAgICAgICAgJ0lmIHlvdSBtdXN0IGxvYWQgb25lLCBkbyBzbyBiZWZvcmUgbG9hZGluZyB6b25lLmpzLiknKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHJvb3QoKTogQW1iaWVudFpvbmUge1xuICAgICAgbGV0IHpvbmUgPSBab25lLmN1cnJlbnQ7XG4gICAgICB3aGlsZSAoem9uZS5wYXJlbnQpIHtcbiAgICAgICAgem9uZSA9IHpvbmUucGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHpvbmU7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBjdXJyZW50KCk6IEFtYmllbnRab25lIHtcbiAgICAgIHJldHVybiBfY3VycmVudFpvbmVGcmFtZS56b25lO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgY3VycmVudFRhc2soKTogVGFza3xudWxsIHtcbiAgICAgIHJldHVybiBfY3VycmVudFRhc2s7XG4gICAgfVxuXG4gICAgc3RhdGljIF9fbG9hZF9wYXRjaChuYW1lOiBzdHJpbmcsIGZuOiBfUGF0Y2hGbik6IHZvaWQge1xuICAgICAgaWYgKHBhdGNoZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgaWYgKGNoZWNrRHVwbGljYXRlKSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ0FscmVhZHkgbG9hZGVkIHBhdGNoOiAnICsgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWdsb2JhbFsnX19ab25lX2Rpc2FibGVfJyArIG5hbWVdKSB7XG4gICAgICAgIGNvbnN0IHBlcmZOYW1lID0gJ1pvbmU6JyArIG5hbWU7XG4gICAgICAgIG1hcmsocGVyZk5hbWUpO1xuICAgICAgICBwYXRjaGVzW25hbWVdID0gZm4oZ2xvYmFsLCBab25lLCBfYXBpKTtcbiAgICAgICAgcGVyZm9ybWFuY2VNZWFzdXJlKHBlcmZOYW1lLCBwZXJmTmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBwYXJlbnQoKTogQW1iaWVudFpvbmV8bnVsbCB7XG4gICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbmFtZSgpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIF9wYXJlbnQ6IFpvbmV8bnVsbDtcbiAgICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfcHJvcGVydGllczoge1trZXk6IHN0cmluZ106IGFueX07XG4gICAgcHJpdmF0ZSBfem9uZURlbGVnYXRlOiBab25lRGVsZWdhdGU7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQ6IFpvbmV8bnVsbCwgem9uZVNwZWM6IFpvbmVTcGVjfG51bGwpIHtcbiAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgIHRoaXMuX25hbWUgPSB6b25lU3BlYyA/IHpvbmVTcGVjLm5hbWUgfHwgJ3VubmFtZWQnIDogJzxyb290Pic7XG4gICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gem9uZVNwZWMgJiYgem9uZVNwZWMucHJvcGVydGllcyB8fCB7fTtcbiAgICAgIHRoaXMuX3pvbmVEZWxlZ2F0ZSA9XG4gICAgICAgICAgbmV3IFpvbmVEZWxlZ2F0ZSh0aGlzLCB0aGlzLl9wYXJlbnQgJiYgdGhpcy5fcGFyZW50Ll96b25lRGVsZWdhdGUsIHpvbmVTcGVjKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0KGtleTogc3RyaW5nKTogYW55IHtcbiAgICAgIGNvbnN0IHpvbmU6IFpvbmUgPSB0aGlzLmdldFpvbmVXaXRoKGtleSkgYXMgWm9uZTtcbiAgICAgIGlmICh6b25lKSByZXR1cm4gem9uZS5fcHJvcGVydGllc1trZXldO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRab25lV2l0aChrZXk6IHN0cmluZyk6IEFtYmllbnRab25lfG51bGwge1xuICAgICAgbGV0IGN1cnJlbnQ6IFpvbmV8bnVsbCA9IHRoaXM7XG4gICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICBpZiAoY3VycmVudC5fcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuX3BhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBmb3JrKHpvbmVTcGVjOiBab25lU3BlYyk6IEFtYmllbnRab25lIHtcbiAgICAgIGlmICghem9uZVNwZWMpIHRocm93IG5ldyBFcnJvcignWm9uZVNwZWMgcmVxdWlyZWQhJyk7XG4gICAgICByZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmZvcmsodGhpcywgem9uZVNwZWMpO1xuICAgIH1cblxuICAgIHB1YmxpYyB3cmFwPFQgZXh0ZW5kcyBGdW5jdGlvbj4oY2FsbGJhY2s6IFQsIHNvdXJjZTogc3RyaW5nKTogVCB7XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGZ1bmN0aW9uIGdvdDogJyArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IF9jYWxsYmFjayA9IHRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnRlcmNlcHQodGhpcywgY2FsbGJhY2ssIHNvdXJjZSk7XG4gICAgICBjb25zdCB6b25lOiBab25lID0gdGhpcztcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHpvbmUucnVuR3VhcmRlZChfY2FsbGJhY2ssICh0aGlzIGFzIGFueSksIDxhbnk+YXJndW1lbnRzLCBzb3VyY2UpO1xuICAgICAgfSBhcyBhbnkgYXMgVDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcnVuKGNhbGxiYWNrOiBGdW5jdGlvbiwgYXBwbHlUaGlzPzogYW55LCBhcHBseUFyZ3M/OiBhbnlbXSwgc291cmNlPzogc3RyaW5nKTogYW55O1xuICAgIHB1YmxpYyBydW48VD4oXG4gICAgICAgIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IFQsIGFwcGx5VGhpcz86IGFueSwgYXBwbHlBcmdzPzogYW55W10sIHNvdXJjZT86IHN0cmluZyk6IFQge1xuICAgICAgX2N1cnJlbnRab25lRnJhbWUgPSB7cGFyZW50OiBfY3VycmVudFpvbmVGcmFtZSwgem9uZTogdGhpc307XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfY3VycmVudFpvbmVGcmFtZSA9IF9jdXJyZW50Wm9uZUZyYW1lLnBhcmVudCE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJ1bkd1YXJkZWQoY2FsbGJhY2s6IEZ1bmN0aW9uLCBhcHBseVRoaXM/OiBhbnksIGFwcGx5QXJncz86IGFueVtdLCBzb3VyY2U/OiBzdHJpbmcpOiBhbnk7XG4gICAgcHVibGljIHJ1bkd1YXJkZWQ8VD4oXG4gICAgICAgIGNhbGxiYWNrOiAoLi4uYXJnczogYW55W10pID0+IFQsIGFwcGx5VGhpczogYW55ID0gbnVsbCwgYXBwbHlBcmdzPzogYW55W10sXG4gICAgICAgIHNvdXJjZT86IHN0cmluZykge1xuICAgICAgX2N1cnJlbnRab25lRnJhbWUgPSB7cGFyZW50OiBfY3VycmVudFpvbmVGcmFtZSwgem9uZTogdGhpc307XG4gICAgICB0cnkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlKHRoaXMsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAodGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMsIGVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfY3VycmVudFpvbmVGcmFtZSA9IF9jdXJyZW50Wm9uZUZyYW1lLnBhcmVudCE7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBydW5UYXNrKHRhc2s6IFRhc2ssIGFwcGx5VGhpcz86IGFueSwgYXBwbHlBcmdzPzogYW55KTogYW55IHtcbiAgICAgIGlmICh0YXNrLnpvbmUgIT0gdGhpcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnQSB0YXNrIGNhbiBvbmx5IGJlIHJ1biBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAnICtcbiAgICAgICAgICAgICh0YXNrLnpvbmUgfHwgTk9fWk9ORSkubmFtZSArICc7IEV4ZWN1dGlvbjogJyArIHRoaXMubmFtZSArICcpJyk7XG4gICAgICB9XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci96b25lLmpzL2lzc3Vlcy83NzgsIHNvbWV0aW1lcyBldmVudFRhc2tcbiAgICAgIC8vIHdpbGwgcnVuIGluIG5vdFNjaGVkdWxlZChjYW5jZWxlZCkgc3RhdGUsIHdlIHNob3VsZCBub3QgdHJ5IHRvXG4gICAgICAvLyBydW4gc3VjaCBraW5kIG9mIHRhc2sgYnV0IGp1c3QgcmV0dXJuXG5cbiAgICAgIGlmICh0YXNrLnN0YXRlID09PSBub3RTY2hlZHVsZWQgJiYgKHRhc2sudHlwZSA9PT0gZXZlbnRUYXNrIHx8IHRhc2sudHlwZSA9PT0gbWFjcm9UYXNrKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlRW50cnlHdWFyZCA9IHRhc2suc3RhdGUgIT0gcnVubmluZztcbiAgICAgIHJlRW50cnlHdWFyZCAmJiAodGFzayBhcyBab25lVGFzazxhbnk+KS5fdHJhbnNpdGlvblRvKHJ1bm5pbmcsIHNjaGVkdWxlZCk7XG4gICAgICB0YXNrLnJ1bkNvdW50Kys7XG4gICAgICBjb25zdCBwcmV2aW91c1Rhc2sgPSBfY3VycmVudFRhc2s7XG4gICAgICBfY3VycmVudFRhc2sgPSB0YXNrO1xuICAgICAgX2N1cnJlbnRab25lRnJhbWUgPSB7cGFyZW50OiBfY3VycmVudFpvbmVGcmFtZSwgem9uZTogdGhpc307XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodGFzay50eXBlID09IG1hY3JvVGFzayAmJiB0YXNrLmRhdGEgJiYgIXRhc2suZGF0YS5pc1BlcmlvZGljKSB7XG4gICAgICAgICAgdGFzay5jYW5jZWxGbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl96b25lRGVsZWdhdGUuaW52b2tlVGFzayh0aGlzLCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLCBlcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgLy8gaWYgdGhlIHRhc2sncyBzdGF0ZSBpcyBub3RTY2hlZHVsZWQgb3IgdW5rbm93biwgdGhlbiBpdCBoYXMgYWxyZWFkeSBiZWVuIGNhbmNlbGxlZFxuICAgICAgICAvLyB3ZSBzaG91bGQgbm90IHJlc2V0IHRoZSBzdGF0ZSB0byBzY2hlZHVsZWRcbiAgICAgICAgaWYgKHRhc2suc3RhdGUgIT09IG5vdFNjaGVkdWxlZCAmJiB0YXNrLnN0YXRlICE9PSB1bmtub3duKSB7XG4gICAgICAgICAgaWYgKHRhc2sudHlwZSA9PSBldmVudFRhc2sgfHwgKHRhc2suZGF0YSAmJiB0YXNrLmRhdGEuaXNQZXJpb2RpYykpIHtcbiAgICAgICAgICAgIHJlRW50cnlHdWFyZCAmJiAodGFzayBhcyBab25lVGFzazxhbnk+KS5fdHJhbnNpdGlvblRvKHNjaGVkdWxlZCwgcnVubmluZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhc2sucnVuQ291bnQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGFza0NvdW50KHRhc2sgYXMgWm9uZVRhc2s8YW55PiwgLTEpO1xuICAgICAgICAgICAgcmVFbnRyeUd1YXJkICYmXG4gICAgICAgICAgICAgICAgKHRhc2sgYXMgWm9uZVRhc2s8YW55PikuX3RyYW5zaXRpb25Ubyhub3RTY2hlZHVsZWQsIHJ1bm5pbmcsIG5vdFNjaGVkdWxlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9jdXJyZW50Wm9uZUZyYW1lID0gX2N1cnJlbnRab25lRnJhbWUucGFyZW50ITtcbiAgICAgICAgX2N1cnJlbnRUYXNrID0gcHJldmlvdXNUYXNrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNjaGVkdWxlVGFzazxUIGV4dGVuZHMgVGFzaz4odGFzazogVCk6IFQge1xuICAgICAgaWYgKHRhc2suem9uZSAmJiB0YXNrLnpvbmUgIT09IHRoaXMpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHRhc2sgd2FzIHJlc2NoZWR1bGVkLCB0aGUgbmV3Wm9uZVxuICAgICAgICAvLyBzaG91bGQgbm90IGJlIHRoZSBjaGlsZHJlbiBvZiB0aGUgb3JpZ2luYWwgem9uZVxuICAgICAgICBsZXQgbmV3Wm9uZTogYW55ID0gdGhpcztcbiAgICAgICAgd2hpbGUgKG5ld1pvbmUpIHtcbiAgICAgICAgICBpZiAobmV3Wm9uZSA9PT0gdGFzay56b25lKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgY2FuIG5vdCByZXNjaGVkdWxlIHRhc2sgdG8gJHtcbiAgICAgICAgICAgICAgICB0aGlzLm5hbWV9IHdoaWNoIGlzIGRlc2NlbmRhbnRzIG9mIHRoZSBvcmlnaW5hbCB6b25lICR7dGFzay56b25lLm5hbWV9YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld1pvbmUgPSBuZXdab25lLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8oc2NoZWR1bGluZywgbm90U2NoZWR1bGVkKTtcbiAgICAgIGNvbnN0IHpvbmVEZWxlZ2F0ZXM6IFpvbmVEZWxlZ2F0ZVtdID0gW107XG4gICAgICAodGFzayBhcyBhbnkgYXMgWm9uZVRhc2s8YW55PikuX3pvbmVEZWxlZ2F0ZXMgPSB6b25lRGVsZWdhdGVzO1xuICAgICAgKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLl96b25lID0gdGhpcztcbiAgICAgIHRyeSB7XG4gICAgICAgIHRhc2sgPSB0aGlzLl96b25lRGVsZWdhdGUuc2NoZWR1bGVUYXNrKHRoaXMsIHRhc2spIGFzIFQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gc2hvdWxkIHNldCB0YXNrJ3Mgc3RhdGUgdG8gdW5rbm93biB3aGVuIHNjaGVkdWxlVGFzayB0aHJvdyBlcnJvclxuICAgICAgICAvLyBiZWNhdXNlIHRoZSBlcnIgbWF5IGZyb20gcmVzY2hlZHVsZSwgc28gdGhlIGZyb21TdGF0ZSBtYXliZSBub3RTY2hlZHVsZWRcbiAgICAgICAgKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8odW5rbm93biwgc2NoZWR1bGluZywgbm90U2NoZWR1bGVkKTtcbiAgICAgICAgLy8gVE9ETzogQEppYUxpUGFzc2lvbiwgc2hvdWxkIHdlIGNoZWNrIHRoZSByZXN1bHQgZnJvbSBoYW5kbGVFcnJvcj9cbiAgICAgICAgdGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMsIGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIGlmICgodGFzayBhcyBhbnkgYXMgWm9uZVRhc2s8YW55PikuX3pvbmVEZWxlZ2F0ZXMgPT09IHpvbmVEZWxlZ2F0ZXMpIHtcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBjaGVjayBiZWNhdXNlIGludGVybmFsbHkgdGhlIGRlbGVnYXRlIGNhbiByZXNjaGVkdWxlIHRoZSB0YXNrLlxuICAgICAgICB0aGlzLl91cGRhdGVUYXNrQ291bnQodGFzayBhcyBhbnkgYXMgWm9uZVRhc2s8YW55PiwgMSk7XG4gICAgICB9XG4gICAgICBpZiAoKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLnN0YXRlID09IHNjaGVkdWxpbmcpIHtcbiAgICAgICAgKHRhc2sgYXMgYW55IGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8oc2NoZWR1bGVkLCBzY2hlZHVsaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXNrO1xuICAgIH1cblxuICAgIHNjaGVkdWxlTWljcm9UYXNrKFxuICAgICAgICBzb3VyY2U6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uLCBkYXRhPzogVGFza0RhdGEsXG4gICAgICAgIGN1c3RvbVNjaGVkdWxlPzogKHRhc2s6IFRhc2spID0+IHZvaWQpOiBNaWNyb1Rhc2sge1xuICAgICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVUYXNrKFxuICAgICAgICAgIG5ldyBab25lVGFzayhtaWNyb1Rhc2ssIHNvdXJjZSwgY2FsbGJhY2ssIGRhdGEsIGN1c3RvbVNjaGVkdWxlLCB1bmRlZmluZWQpKTtcbiAgICB9XG5cbiAgICBzY2hlZHVsZU1hY3JvVGFzayhcbiAgICAgICAgc291cmNlOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbiwgZGF0YT86IFRhc2tEYXRhLCBjdXN0b21TY2hlZHVsZT86ICh0YXNrOiBUYXNrKSA9PiB2b2lkLFxuICAgICAgICBjdXN0b21DYW5jZWw/OiAodGFzazogVGFzaykgPT4gdm9pZCk6IE1hY3JvVGFzayB7XG4gICAgICByZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2soXG4gICAgICAgICAgbmV3IFpvbmVUYXNrKG1hY3JvVGFzaywgc291cmNlLCBjYWxsYmFjaywgZGF0YSwgY3VzdG9tU2NoZWR1bGUsIGN1c3RvbUNhbmNlbCkpO1xuICAgIH1cblxuICAgIHNjaGVkdWxlRXZlbnRUYXNrKFxuICAgICAgICBzb3VyY2U6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uLCBkYXRhPzogVGFza0RhdGEsIGN1c3RvbVNjaGVkdWxlPzogKHRhc2s6IFRhc2spID0+IHZvaWQsXG4gICAgICAgIGN1c3RvbUNhbmNlbD86ICh0YXNrOiBUYXNrKSA9PiB2b2lkKTogRXZlbnRUYXNrIHtcbiAgICAgIHJldHVybiB0aGlzLnNjaGVkdWxlVGFzayhcbiAgICAgICAgICBuZXcgWm9uZVRhc2soZXZlbnRUYXNrLCBzb3VyY2UsIGNhbGxiYWNrLCBkYXRhLCBjdXN0b21TY2hlZHVsZSwgY3VzdG9tQ2FuY2VsKSk7XG4gICAgfVxuXG4gICAgY2FuY2VsVGFzayh0YXNrOiBUYXNrKTogYW55IHtcbiAgICAgIGlmICh0YXNrLnpvbmUgIT0gdGhpcylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0EgdGFzayBjYW4gb25seSBiZSBjYW5jZWxsZWQgaW4gdGhlIHpvbmUgb2YgY3JlYXRpb24hIChDcmVhdGlvbjogJyArXG4gICAgICAgICAgICAodGFzay56b25lIHx8IE5PX1pPTkUpLm5hbWUgKyAnOyBFeGVjdXRpb246ICcgKyB0aGlzLm5hbWUgKyAnKScpO1xuICAgICAgKHRhc2sgYXMgWm9uZVRhc2s8YW55PikuX3RyYW5zaXRpb25UbyhjYW5jZWxpbmcsIHNjaGVkdWxlZCwgcnVubmluZyk7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLl96b25lRGVsZWdhdGUuY2FuY2VsVGFzayh0aGlzLCB0YXNrKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBpZiBlcnJvciBvY2N1cnMgd2hlbiBjYW5jZWxUYXNrLCB0cmFuc2l0IHRoZSBzdGF0ZSB0byB1bmtub3duXG4gICAgICAgICh0YXNrIGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8odW5rbm93biwgY2FuY2VsaW5nKTtcbiAgICAgICAgdGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMsIGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3VwZGF0ZVRhc2tDb3VudCh0YXNrIGFzIFpvbmVUYXNrPGFueT4sIC0xKTtcbiAgICAgICh0YXNrIGFzIFpvbmVUYXNrPGFueT4pLl90cmFuc2l0aW9uVG8obm90U2NoZWR1bGVkLCBjYW5jZWxpbmcpO1xuICAgICAgdGFzay5ydW5Db3VudCA9IDA7XG4gICAgICByZXR1cm4gdGFzaztcbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGVUYXNrQ291bnQodGFzazogWm9uZVRhc2s8YW55PiwgY291bnQ6IG51bWJlcikge1xuICAgICAgY29uc3Qgem9uZURlbGVnYXRlcyA9IHRhc2suX3pvbmVEZWxlZ2F0ZXMhO1xuICAgICAgaWYgKGNvdW50ID09IC0xKSB7XG4gICAgICAgIHRhc2suX3pvbmVEZWxlZ2F0ZXMgPSBudWxsO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB6b25lRGVsZWdhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHpvbmVEZWxlZ2F0ZXNbaV0uX3VwZGF0ZVRhc2tDb3VudCh0YXNrLnR5cGUsIGNvdW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBERUxFR0FURV9aUzogWm9uZVNwZWMgPSB7XG4gICAgbmFtZTogJycsXG4gICAgb25IYXNUYXNrOlxuICAgICAgICAoZGVsZWdhdGU6IEFtYmllbnRab25lRGVsZWdhdGUsIF86IEFtYmllbnRab25lLCB0YXJnZXQ6IEFtYmllbnRab25lLFxuICAgICAgICAgaGFzVGFza1N0YXRlOiBIYXNUYXNrU3RhdGUpOiB2b2lkID0+IGRlbGVnYXRlLmhhc1Rhc2sodGFyZ2V0LCBoYXNUYXNrU3RhdGUpLFxuICAgIG9uU2NoZWR1bGVUYXNrOlxuICAgICAgICAoZGVsZWdhdGU6IEFtYmllbnRab25lRGVsZWdhdGUsIF86IEFtYmllbnRab25lLCB0YXJnZXQ6IEFtYmllbnRab25lLCB0YXNrOiBUYXNrKTogVGFzayA9PlxuICAgICAgICAgICAgZGVsZWdhdGUuc2NoZWR1bGVUYXNrKHRhcmdldCwgdGFzayksXG4gICAgb25JbnZva2VUYXNrOlxuICAgICAgICAoZGVsZWdhdGU6IEFtYmllbnRab25lRGVsZWdhdGUsIF86IEFtYmllbnRab25lLCB0YXJnZXQ6IEFtYmllbnRab25lLCB0YXNrOiBUYXNrLFxuICAgICAgICAgYXBwbHlUaGlzOiBhbnksIGFwcGx5QXJnczogYW55KTogYW55ID0+XG4gICAgICAgICAgICBkZWxlZ2F0ZS5pbnZva2VUYXNrKHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpLFxuICAgIG9uQ2FuY2VsVGFzazogKGRlbGVnYXRlOiBBbWJpZW50Wm9uZURlbGVnYXRlLCBfOiBBbWJpZW50Wm9uZSwgdGFyZ2V0OiBBbWJpZW50Wm9uZSwgdGFzazogVGFzayk6XG4gICAgICAgIGFueSA9PiBkZWxlZ2F0ZS5jYW5jZWxUYXNrKHRhcmdldCwgdGFzaylcbiAgfTtcblxuICBjbGFzcyBab25lRGVsZWdhdGUgaW1wbGVtZW50cyBBbWJpZW50Wm9uZURlbGVnYXRlIHtcbiAgICBwdWJsaWMgem9uZTogWm9uZTtcblxuICAgIHByaXZhdGUgX3Rhc2tDb3VudHM6IHttaWNyb1Rhc2s6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm9UYXNrOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFzazogbnVtYmVyfSA9IHsnbWljcm9UYXNrJzogMCwgJ21hY3JvVGFzayc6IDAsICdldmVudFRhc2snOiAwfTtcblxuICAgIHByaXZhdGUgX3BhcmVudERlbGVnYXRlOiBab25lRGVsZWdhdGV8bnVsbDtcblxuICAgIHByaXZhdGUgX2ZvcmtEbGd0OiBab25lRGVsZWdhdGV8bnVsbDtcbiAgICBwcml2YXRlIF9mb3JrWlM6IFpvbmVTcGVjfG51bGw7XG4gICAgcHJpdmF0ZSBfZm9ya0N1cnJab25lOiBab25lfG51bGw7XG5cbiAgICBwcml2YXRlIF9pbnRlcmNlcHREbGd0OiBab25lRGVsZWdhdGV8bnVsbDtcbiAgICBwcml2YXRlIF9pbnRlcmNlcHRaUzogWm9uZVNwZWN8bnVsbDtcbiAgICBwcml2YXRlIF9pbnRlcmNlcHRDdXJyWm9uZTogWm9uZXxudWxsO1xuXG4gICAgcHJpdmF0ZSBfaW52b2tlRGxndDogWm9uZURlbGVnYXRlfG51bGw7XG4gICAgcHJpdmF0ZSBfaW52b2tlWlM6IFpvbmVTcGVjfG51bGw7XG4gICAgcHJpdmF0ZSBfaW52b2tlQ3VyclpvbmU6IFpvbmV8bnVsbDtcblxuICAgIHByaXZhdGUgX2hhbmRsZUVycm9yRGxndDogWm9uZURlbGVnYXRlfG51bGw7XG4gICAgcHJpdmF0ZSBfaGFuZGxlRXJyb3JaUzogWm9uZVNwZWN8bnVsbDtcbiAgICBwcml2YXRlIF9oYW5kbGVFcnJvckN1cnJab25lOiBab25lfG51bGw7XG5cbiAgICBwcml2YXRlIF9zY2hlZHVsZVRhc2tEbGd0OiBab25lRGVsZWdhdGV8bnVsbDtcbiAgICBwcml2YXRlIF9zY2hlZHVsZVRhc2taUzogWm9uZVNwZWN8bnVsbDtcbiAgICBwcml2YXRlIF9zY2hlZHVsZVRhc2tDdXJyWm9uZTogWm9uZXxudWxsO1xuXG4gICAgcHJpdmF0ZSBfaW52b2tlVGFza0RsZ3Q6IFpvbmVEZWxlZ2F0ZXxudWxsO1xuICAgIHByaXZhdGUgX2ludm9rZVRhc2taUzogWm9uZVNwZWN8bnVsbDtcbiAgICBwcml2YXRlIF9pbnZva2VUYXNrQ3VyclpvbmU6IFpvbmV8bnVsbDtcblxuICAgIHByaXZhdGUgX2NhbmNlbFRhc2tEbGd0OiBab25lRGVsZWdhdGV8bnVsbDtcbiAgICBwcml2YXRlIF9jYW5jZWxUYXNrWlM6IFpvbmVTcGVjfG51bGw7XG4gICAgcHJpdmF0ZSBfY2FuY2VsVGFza0N1cnJab25lOiBab25lfG51bGw7XG5cbiAgICBwcml2YXRlIF9oYXNUYXNrRGxndDogWm9uZURlbGVnYXRlfG51bGw7XG4gICAgcHJpdmF0ZSBfaGFzVGFza0RsZ3RPd25lcjogWm9uZURlbGVnYXRlfG51bGw7XG4gICAgcHJpdmF0ZSBfaGFzVGFza1pTOiBab25lU3BlY3xudWxsO1xuICAgIHByaXZhdGUgX2hhc1Rhc2tDdXJyWm9uZTogWm9uZXxudWxsO1xuXG4gICAgY29uc3RydWN0b3Ioem9uZTogWm9uZSwgcGFyZW50RGVsZWdhdGU6IFpvbmVEZWxlZ2F0ZXxudWxsLCB6b25lU3BlYzogWm9uZVNwZWN8bnVsbCkge1xuICAgICAgdGhpcy56b25lID0gem9uZTtcbiAgICAgIHRoaXMuX3BhcmVudERlbGVnYXRlID0gcGFyZW50RGVsZWdhdGU7XG5cbiAgICAgIHRoaXMuX2ZvcmtaUyA9IHpvbmVTcGVjICYmICh6b25lU3BlYyAmJiB6b25lU3BlYy5vbkZvcmsgPyB6b25lU3BlYyA6IHBhcmVudERlbGVnYXRlIS5fZm9ya1pTKTtcbiAgICAgIHRoaXMuX2ZvcmtEbGd0ID0gem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uRm9yayA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUhLl9mb3JrRGxndCk7XG4gICAgICB0aGlzLl9mb3JrQ3VyclpvbmUgPSB6b25lU3BlYyAmJiAoem9uZVNwZWMub25Gb3JrID8gdGhpcy56b25lIDogcGFyZW50RGVsZWdhdGUhLnpvbmUpO1xuXG4gICAgICB0aGlzLl9pbnRlcmNlcHRaUyA9XG4gICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uSW50ZXJjZXB0ID8gem9uZVNwZWMgOiBwYXJlbnREZWxlZ2F0ZSEuX2ludGVyY2VwdFpTKTtcbiAgICAgIHRoaXMuX2ludGVyY2VwdERsZ3QgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludGVyY2VwdCA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUhLl9pbnRlcmNlcHREbGd0KTtcbiAgICAgIHRoaXMuX2ludGVyY2VwdEN1cnJab25lID1cbiAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25JbnRlcmNlcHQgPyB0aGlzLnpvbmUgOiBwYXJlbnREZWxlZ2F0ZSEuem9uZSk7XG5cbiAgICAgIHRoaXMuX2ludm9rZVpTID0gem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uSW52b2tlID8gem9uZVNwZWMgOiBwYXJlbnREZWxlZ2F0ZSEuX2ludm9rZVpTKTtcbiAgICAgIHRoaXMuX2ludm9rZURsZ3QgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZSA/IHBhcmVudERlbGVnYXRlISA6IHBhcmVudERlbGVnYXRlIS5faW52b2tlRGxndCk7XG4gICAgICB0aGlzLl9pbnZva2VDdXJyWm9uZSA9IHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZSA/IHRoaXMuem9uZSA6IHBhcmVudERlbGVnYXRlIS56b25lKTtcblxuICAgICAgdGhpcy5faGFuZGxlRXJyb3JaUyA9XG4gICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uSGFuZGxlRXJyb3IgPyB6b25lU3BlYyA6IHBhcmVudERlbGVnYXRlIS5faGFuZGxlRXJyb3JaUyk7XG4gICAgICB0aGlzLl9oYW5kbGVFcnJvckRsZ3QgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkhhbmRsZUVycm9yID8gcGFyZW50RGVsZWdhdGUhIDogcGFyZW50RGVsZWdhdGUhLl9oYW5kbGVFcnJvckRsZ3QpO1xuICAgICAgdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZSA9XG4gICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uSGFuZGxlRXJyb3IgPyB0aGlzLnpvbmUgOiBwYXJlbnREZWxlZ2F0ZSEuem9uZSk7XG5cbiAgICAgIHRoaXMuX3NjaGVkdWxlVGFza1pTID1cbiAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25TY2hlZHVsZVRhc2sgPyB6b25lU3BlYyA6IHBhcmVudERlbGVnYXRlIS5fc2NoZWR1bGVUYXNrWlMpO1xuICAgICAgdGhpcy5fc2NoZWR1bGVUYXNrRGxndCA9IHpvbmVTcGVjICYmXG4gICAgICAgICAgKHpvbmVTcGVjLm9uU2NoZWR1bGVUYXNrID8gcGFyZW50RGVsZWdhdGUhIDogcGFyZW50RGVsZWdhdGUhLl9zY2hlZHVsZVRhc2tEbGd0KTtcbiAgICAgIHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lID1cbiAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25TY2hlZHVsZVRhc2sgPyB0aGlzLnpvbmUgOiBwYXJlbnREZWxlZ2F0ZSEuem9uZSk7XG5cbiAgICAgIHRoaXMuX2ludm9rZVRhc2taUyA9XG4gICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uSW52b2tlVGFzayA/IHpvbmVTcGVjIDogcGFyZW50RGVsZWdhdGUhLl9pbnZva2VUYXNrWlMpO1xuICAgICAgdGhpcy5faW52b2tlVGFza0RsZ3QgPVxuICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZVRhc2sgPyBwYXJlbnREZWxlZ2F0ZSEgOiBwYXJlbnREZWxlZ2F0ZSEuX2ludm9rZVRhc2tEbGd0KTtcbiAgICAgIHRoaXMuX2ludm9rZVRhc2tDdXJyWm9uZSA9XG4gICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uSW52b2tlVGFzayA/IHRoaXMuem9uZSA6IHBhcmVudERlbGVnYXRlIS56b25lKTtcblxuICAgICAgdGhpcy5fY2FuY2VsVGFza1pTID1cbiAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25DYW5jZWxUYXNrID8gem9uZVNwZWMgOiBwYXJlbnREZWxlZ2F0ZSEuX2NhbmNlbFRhc2taUyk7XG4gICAgICB0aGlzLl9jYW5jZWxUYXNrRGxndCA9XG4gICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uQ2FuY2VsVGFzayA/IHBhcmVudERlbGVnYXRlISA6IHBhcmVudERlbGVnYXRlIS5fY2FuY2VsVGFza0RsZ3QpO1xuICAgICAgdGhpcy5fY2FuY2VsVGFza0N1cnJab25lID1cbiAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25DYW5jZWxUYXNrID8gdGhpcy56b25lIDogcGFyZW50RGVsZWdhdGUhLnpvbmUpO1xuXG4gICAgICB0aGlzLl9oYXNUYXNrWlMgPSBudWxsO1xuICAgICAgdGhpcy5faGFzVGFza0RsZ3QgPSBudWxsO1xuICAgICAgdGhpcy5faGFzVGFza0RsZ3RPd25lciA9IG51bGw7XG4gICAgICB0aGlzLl9oYXNUYXNrQ3VyclpvbmUgPSBudWxsO1xuXG4gICAgICBjb25zdCB6b25lU3BlY0hhc1Rhc2sgPSB6b25lU3BlYyAmJiB6b25lU3BlYy5vbkhhc1Rhc2s7XG4gICAgICBjb25zdCBwYXJlbnRIYXNUYXNrID0gcGFyZW50RGVsZWdhdGUgJiYgcGFyZW50RGVsZWdhdGUuX2hhc1Rhc2taUztcbiAgICAgIGlmICh6b25lU3BlY0hhc1Rhc2sgfHwgcGFyZW50SGFzVGFzaykge1xuICAgICAgICAvLyBJZiB3ZSBuZWVkIHRvIHJlcG9ydCBoYXNUYXNrLCB0aGFuIHRoaXMgWlMgbmVlZHMgdG8gZG8gcmVmIGNvdW50aW5nIG9uIHRhc2tzLiBJbiBzdWNoXG4gICAgICAgIC8vIGEgY2FzZSBhbGwgdGFzayByZWxhdGVkIGludGVyY2VwdG9ycyBtdXN0IGdvIHRocm91Z2ggdGhpcyBaRC4gV2UgY2FuJ3Qgc2hvcnQgY2lyY3VpdCBpdC5cbiAgICAgICAgdGhpcy5faGFzVGFza1pTID0gem9uZVNwZWNIYXNUYXNrID8gem9uZVNwZWMgOiBERUxFR0FURV9aUztcbiAgICAgICAgdGhpcy5faGFzVGFza0RsZ3QgPSBwYXJlbnREZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5faGFzVGFza0RsZ3RPd25lciA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2hhc1Rhc2tDdXJyWm9uZSA9IHpvbmU7XG4gICAgICAgIGlmICghem9uZVNwZWMhLm9uU2NoZWR1bGVUYXNrKSB7XG4gICAgICAgICAgdGhpcy5fc2NoZWR1bGVUYXNrWlMgPSBERUxFR0FURV9aUztcbiAgICAgICAgICB0aGlzLl9zY2hlZHVsZVRhc2tEbGd0ID0gcGFyZW50RGVsZWdhdGUhO1xuICAgICAgICAgIHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lID0gdGhpcy56b25lO1xuICAgICAgICB9XG4gICAgICAgIGlmICghem9uZVNwZWMhLm9uSW52b2tlVGFzaykge1xuICAgICAgICAgIHRoaXMuX2ludm9rZVRhc2taUyA9IERFTEVHQVRFX1pTO1xuICAgICAgICAgIHRoaXMuX2ludm9rZVRhc2tEbGd0ID0gcGFyZW50RGVsZWdhdGUhO1xuICAgICAgICAgIHRoaXMuX2ludm9rZVRhc2tDdXJyWm9uZSA9IHRoaXMuem9uZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXpvbmVTcGVjIS5vbkNhbmNlbFRhc2spIHtcbiAgICAgICAgICB0aGlzLl9jYW5jZWxUYXNrWlMgPSBERUxFR0FURV9aUztcbiAgICAgICAgICB0aGlzLl9jYW5jZWxUYXNrRGxndCA9IHBhcmVudERlbGVnYXRlITtcbiAgICAgICAgICB0aGlzLl9jYW5jZWxUYXNrQ3VyclpvbmUgPSB0aGlzLnpvbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3JrKHRhcmdldFpvbmU6IFpvbmUsIHpvbmVTcGVjOiBab25lU3BlYyk6IEFtYmllbnRab25lIHtcbiAgICAgIHJldHVybiB0aGlzLl9mb3JrWlMgPyB0aGlzLl9mb3JrWlMub25Gb3JrISh0aGlzLl9mb3JrRGxndCEsIHRoaXMuem9uZSwgdGFyZ2V0Wm9uZSwgem9uZVNwZWMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgWm9uZSh0YXJnZXRab25lLCB6b25lU3BlYyk7XG4gICAgfVxuXG4gICAgaW50ZXJjZXB0KHRhcmdldFpvbmU6IFpvbmUsIGNhbGxiYWNrOiBGdW5jdGlvbiwgc291cmNlOiBzdHJpbmcpOiBGdW5jdGlvbiB7XG4gICAgICByZXR1cm4gdGhpcy5faW50ZXJjZXB0WlMgP1xuICAgICAgICAgIHRoaXMuX2ludGVyY2VwdFpTLm9uSW50ZXJjZXB0IVxuICAgICAgICAgICh0aGlzLl9pbnRlcmNlcHREbGd0ISwgdGhpcy5faW50ZXJjZXB0Q3VyclpvbmUhLCB0YXJnZXRab25lLCBjYWxsYmFjaywgc291cmNlKSA6XG4gICAgICAgICAgY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgaW52b2tlKFxuICAgICAgICB0YXJnZXRab25lOiBab25lLCBjYWxsYmFjazogRnVuY3Rpb24sIGFwcGx5VGhpczogYW55LCBhcHBseUFyZ3M/OiBhbnlbXSxcbiAgICAgICAgc291cmNlPzogc3RyaW5nKTogYW55IHtcbiAgICAgIHJldHVybiB0aGlzLl9pbnZva2VaUyA/IHRoaXMuX2ludm9rZVpTLm9uSW52b2tlIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuX2ludm9rZURsZ3QhLCB0aGlzLl9pbnZva2VDdXJyWm9uZSEsIHRhcmdldFpvbmUsIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG5cbiAgICBoYW5kbGVFcnJvcih0YXJnZXRab25lOiBab25lLCBlcnJvcjogYW55KTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlRXJyb3JaUyA/XG4gICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3JaUy5vbkhhbmRsZUVycm9yIVxuICAgICAgICAgICh0aGlzLl9oYW5kbGVFcnJvckRsZ3QhLCB0aGlzLl9oYW5kbGVFcnJvckN1cnJab25lISwgdGFyZ2V0Wm9uZSwgZXJyb3IpIDpcbiAgICAgICAgICB0cnVlO1xuICAgIH1cblxuICAgIHNjaGVkdWxlVGFzayh0YXJnZXRab25lOiBab25lLCB0YXNrOiBUYXNrKTogVGFzayB7XG4gICAgICBsZXQgcmV0dXJuVGFzazogWm9uZVRhc2s8YW55PiA9IHRhc2sgYXMgWm9uZVRhc2s8YW55PjtcbiAgICAgIGlmICh0aGlzLl9zY2hlZHVsZVRhc2taUykge1xuICAgICAgICBpZiAodGhpcy5faGFzVGFza1pTKSB7XG4gICAgICAgICAgcmV0dXJuVGFzay5fem9uZURlbGVnYXRlcyEucHVzaCh0aGlzLl9oYXNUYXNrRGxndE93bmVyISk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuVGFzayA9IHRoaXMuX3NjaGVkdWxlVGFza1pTLm9uU2NoZWR1bGVUYXNrIVxuICAgICAgICAgICAgICAgICAgICAgKHRoaXMuX3NjaGVkdWxlVGFza0RsZ3QhLCB0aGlzLl9zY2hlZHVsZVRhc2tDdXJyWm9uZSEsIHRhcmdldFpvbmUsIHRhc2spIGFzXG4gICAgICAgICAgICBab25lVGFzazxhbnk+O1xuICAgICAgICBpZiAoIXJldHVyblRhc2spIHJldHVyblRhc2sgPSB0YXNrIGFzIFpvbmVUYXNrPGFueT47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGFzay5zY2hlZHVsZUZuKSB7XG4gICAgICAgICAgdGFzay5zY2hlZHVsZUZuKHRhc2spO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2sudHlwZSA9PSBtaWNyb1Rhc2spIHtcbiAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzayg8TWljcm9UYXNrPnRhc2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGFzayBpcyBtaXNzaW5nIHNjaGVkdWxlRm4uJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXR1cm5UYXNrO1xuICAgIH1cblxuICAgIGludm9rZVRhc2sodGFyZ2V0Wm9uZTogWm9uZSwgdGFzazogVGFzaywgYXBwbHlUaGlzOiBhbnksIGFwcGx5QXJncz86IGFueVtdKTogYW55IHtcbiAgICAgIHJldHVybiB0aGlzLl9pbnZva2VUYXNrWlMgPyB0aGlzLl9pbnZva2VUYXNrWlMub25JbnZva2VUYXNrIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLl9pbnZva2VUYXNrRGxndCEsIHRoaXMuX2ludm9rZVRhc2tDdXJyWm9uZSEsIHRhcmdldFpvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5jYWxsYmFjay5hcHBseShhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuXG4gICAgY2FuY2VsVGFzayh0YXJnZXRab25lOiBab25lLCB0YXNrOiBUYXNrKTogYW55IHtcbiAgICAgIGxldCB2YWx1ZTogYW55O1xuICAgICAgaWYgKHRoaXMuX2NhbmNlbFRhc2taUykge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuX2NhbmNlbFRhc2taUy5vbkNhbmNlbFRhc2shXG4gICAgICAgICAgICAgICAgKHRoaXMuX2NhbmNlbFRhc2tEbGd0ISwgdGhpcy5fY2FuY2VsVGFza0N1cnJab25lISwgdGFyZ2V0Wm9uZSwgdGFzayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRhc2suY2FuY2VsRm4pIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignVGFzayBpcyBub3QgY2FuY2VsYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdGFzay5jYW5jZWxGbih0YXNrKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBoYXNUYXNrKHRhcmdldFpvbmU6IFpvbmUsIGlzRW1wdHk6IEhhc1Rhc2tTdGF0ZSkge1xuICAgICAgLy8gaGFzVGFzayBzaG91bGQgbm90IHRocm93IGVycm9yIHNvIG90aGVyIFpvbmVEZWxlZ2F0ZVxuICAgICAgLy8gY2FuIHN0aWxsIHRyaWdnZXIgaGFzVGFzayBjYWxsYmFja1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5faGFzVGFza1pTICYmXG4gICAgICAgICAgICB0aGlzLl9oYXNUYXNrWlMub25IYXNUYXNrIVxuICAgICAgICAgICAgKHRoaXMuX2hhc1Rhc2tEbGd0ISwgdGhpcy5faGFzVGFza0N1cnJab25lISwgdGFyZ2V0Wm9uZSwgaXNFbXB0eSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVFcnJvcih0YXJnZXRab25lLCBlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVUYXNrQ291bnQodHlwZTogVGFza1R5cGUsIGNvdW50OiBudW1iZXIpIHtcbiAgICAgIGNvbnN0IGNvdW50cyA9IHRoaXMuX3Rhc2tDb3VudHM7XG4gICAgICBjb25zdCBwcmV2ID0gY291bnRzW3R5cGVdO1xuICAgICAgY29uc3QgbmV4dCA9IGNvdW50c1t0eXBlXSA9IHByZXYgKyBjb3VudDtcbiAgICAgIGlmIChuZXh0IDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vcmUgdGFza3MgZXhlY3V0ZWQgdGhlbiB3ZXJlIHNjaGVkdWxlZC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmV2ID09IDAgfHwgbmV4dCA9PSAwKSB7XG4gICAgICAgIGNvbnN0IGlzRW1wdHk6IEhhc1Rhc2tTdGF0ZSA9IHtcbiAgICAgICAgICBtaWNyb1Rhc2s6IGNvdW50c1snbWljcm9UYXNrJ10gPiAwLFxuICAgICAgICAgIG1hY3JvVGFzazogY291bnRzWydtYWNyb1Rhc2snXSA+IDAsXG4gICAgICAgICAgZXZlbnRUYXNrOiBjb3VudHNbJ2V2ZW50VGFzayddID4gMCxcbiAgICAgICAgICBjaGFuZ2U6IHR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYXNUYXNrKHRoaXMuem9uZSwgaXNFbXB0eSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xhc3MgWm9uZVRhc2s8VCBleHRlbmRzIFRhc2tUeXBlPiBpbXBsZW1lbnRzIFRhc2sge1xuICAgIHB1YmxpYyB0eXBlOiBUO1xuICAgIHB1YmxpYyBzb3VyY2U6IHN0cmluZztcbiAgICBwdWJsaWMgaW52b2tlOiBGdW5jdGlvbjtcbiAgICBwdWJsaWMgY2FsbGJhY2s6IEZ1bmN0aW9uO1xuICAgIHB1YmxpYyBkYXRhOiBUYXNrRGF0YXx1bmRlZmluZWQ7XG4gICAgcHVibGljIHNjaGVkdWxlRm46ICgodGFzazogVGFzaykgPT4gdm9pZCl8dW5kZWZpbmVkO1xuICAgIHB1YmxpYyBjYW5jZWxGbjogKCh0YXNrOiBUYXNrKSA9PiB2b2lkKXx1bmRlZmluZWQ7XG4gICAgX3pvbmU6IFpvbmV8bnVsbCA9IG51bGw7XG4gICAgcHVibGljIHJ1bkNvdW50OiBudW1iZXIgPSAwO1xuICAgIF96b25lRGVsZWdhdGVzOiBab25lRGVsZWdhdGVbXXxudWxsID0gbnVsbDtcbiAgICBfc3RhdGU6IFRhc2tTdGF0ZSA9ICdub3RTY2hlZHVsZWQnO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHR5cGU6IFQsIHNvdXJjZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24sIG9wdGlvbnM6IFRhc2tEYXRhfHVuZGVmaW5lZCxcbiAgICAgICAgc2NoZWR1bGVGbjogKCh0YXNrOiBUYXNrKSA9PiB2b2lkKXx1bmRlZmluZWQsIGNhbmNlbEZuOiAoKHRhc2s6IFRhc2spID0+IHZvaWQpfHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgdGhpcy5kYXRhID0gb3B0aW9ucztcbiAgICAgIHRoaXMuc2NoZWR1bGVGbiA9IHNjaGVkdWxlRm47XG4gICAgICB0aGlzLmNhbmNlbEZuID0gY2FuY2VsRm47XG4gICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIC8vIFRPRE86IEBKaWFMaVBhc3Npb24gb3B0aW9ucyBzaG91bGQgaGF2ZSBpbnRlcmZhY2VcbiAgICAgIGlmICh0eXBlID09PSBldmVudFRhc2sgJiYgb3B0aW9ucyAmJiAob3B0aW9ucyBhcyBhbnkpLnVzZUcpIHtcbiAgICAgICAgdGhpcy5pbnZva2UgPSBab25lVGFzay5pbnZva2VUYXNrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnZva2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gWm9uZVRhc2suaW52b2tlVGFzay5jYWxsKGdsb2JhbCwgc2VsZiwgdGhpcywgPGFueT5hcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBpbnZva2VUYXNrKHRhc2s6IGFueSwgdGFyZ2V0OiBhbnksIGFyZ3M6IGFueSk6IGFueSB7XG4gICAgICBpZiAoIXRhc2spIHtcbiAgICAgICAgdGFzayA9IHRoaXM7XG4gICAgICB9XG4gICAgICBfbnVtYmVyT2ZOZXN0ZWRUYXNrRnJhbWVzKys7XG4gICAgICB0cnkge1xuICAgICAgICB0YXNrLnJ1bkNvdW50Kys7XG4gICAgICAgIHJldHVybiB0YXNrLnpvbmUucnVuVGFzayh0YXNrLCB0YXJnZXQsIGFyZ3MpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9udW1iZXJPZk5lc3RlZFRhc2tGcmFtZXMgPT0gMSkge1xuICAgICAgICAgIGRyYWluTWljcm9UYXNrUXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgICBfbnVtYmVyT2ZOZXN0ZWRUYXNrRnJhbWVzLS07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHpvbmUoKTogWm9uZSB7XG4gICAgICByZXR1cm4gdGhpcy5fem9uZSE7XG4gICAgfVxuXG4gICAgZ2V0IHN0YXRlKCk6IFRhc2tTdGF0ZSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIGNhbmNlbFNjaGVkdWxlUmVxdWVzdCgpIHtcbiAgICAgIHRoaXMuX3RyYW5zaXRpb25Ubyhub3RTY2hlZHVsZWQsIHNjaGVkdWxpbmcpO1xuICAgIH1cblxuICAgIF90cmFuc2l0aW9uVG8odG9TdGF0ZTogVGFza1N0YXRlLCBmcm9tU3RhdGUxOiBUYXNrU3RhdGUsIGZyb21TdGF0ZTI/OiBUYXNrU3RhdGUpIHtcbiAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gZnJvbVN0YXRlMSB8fCB0aGlzLl9zdGF0ZSA9PT0gZnJvbVN0YXRlMikge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHRvU3RhdGU7XG4gICAgICAgIGlmICh0b1N0YXRlID09IG5vdFNjaGVkdWxlZCkge1xuICAgICAgICAgIHRoaXMuX3pvbmVEZWxlZ2F0ZXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy50eXBlfSAnJHt0aGlzLnNvdXJjZX0nOiBjYW4gbm90IHRyYW5zaXRpb24gdG8gJyR7XG4gICAgICAgICAgICB0b1N0YXRlfScsIGV4cGVjdGluZyBzdGF0ZSAnJHtmcm9tU3RhdGUxfScke1xuICAgICAgICAgICAgZnJvbVN0YXRlMiA/ICcgb3IgXFwnJyArIGZyb21TdGF0ZTIgKyAnXFwnJyA6ICcnfSwgd2FzICcke3RoaXMuX3N0YXRlfScuYCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCkge1xuICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0eXBlb2YgdGhpcy5kYXRhLmhhbmRsZUlkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmhhbmRsZUlkLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCB0b0pTT04gbWV0aG9kIHRvIHByZXZlbnQgY3ljbGljIGVycm9yIHdoZW5cbiAgICAvLyBjYWxsIEpTT04uc3RyaW5naWZ5KHpvbmVUYXNrKVxuICAgIHB1YmxpYyB0b0pTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICBzb3VyY2U6IHRoaXMuc291cmNlLFxuICAgICAgICB6b25lOiB0aGlzLnpvbmUubmFtZSxcbiAgICAgICAgcnVuQ291bnQ6IHRoaXMucnVuQ291bnRcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8gIE1JQ1JPVEFTSyBRVUVVRVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGNvbnN0IHN5bWJvbFNldFRpbWVvdXQgPSBfX3N5bWJvbF9fKCdzZXRUaW1lb3V0Jyk7XG4gIGNvbnN0IHN5bWJvbFByb21pc2UgPSBfX3N5bWJvbF9fKCdQcm9taXNlJyk7XG4gIGNvbnN0IHN5bWJvbFRoZW4gPSBfX3N5bWJvbF9fKCd0aGVuJyk7XG4gIGxldCBfbWljcm9UYXNrUXVldWU6IFRhc2tbXSA9IFtdO1xuICBsZXQgX2lzRHJhaW5pbmdNaWNyb3Rhc2tRdWV1ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBsZXQgbmF0aXZlTWljcm9UYXNrUXVldWVQcm9taXNlOiBhbnk7XG5cbiAgZnVuY3Rpb24gc2NoZWR1bGVNaWNyb1Rhc2sodGFzaz86IE1pY3JvVGFzaykge1xuICAgIC8vIGlmIHdlIGFyZSBub3QgcnVubmluZyBpbiBhbnkgdGFzaywgYW5kIHRoZXJlIGhhcyBub3QgYmVlbiBhbnl0aGluZyBzY2hlZHVsZWRcbiAgICAvLyB3ZSBtdXN0IGJvb3RzdHJhcCB0aGUgaW5pdGlhbCB0YXNrIGNyZWF0aW9uIGJ5IG1hbnVhbGx5IHNjaGVkdWxpbmcgdGhlIGRyYWluXG4gICAgaWYgKF9udW1iZXJPZk5lc3RlZFRhc2tGcmFtZXMgPT09IDAgJiYgX21pY3JvVGFza1F1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gV2UgYXJlIG5vdCBydW5uaW5nIGluIFRhc2ssIHNvIHdlIG5lZWQgdG8ga2lja3N0YXJ0IHRoZSBtaWNyb3Rhc2sgcXVldWUuXG4gICAgICBpZiAoIW5hdGl2ZU1pY3JvVGFza1F1ZXVlUHJvbWlzZSkge1xuICAgICAgICBpZiAoZ2xvYmFsW3N5bWJvbFByb21pc2VdKSB7XG4gICAgICAgICAgbmF0aXZlTWljcm9UYXNrUXVldWVQcm9taXNlID0gZ2xvYmFsW3N5bWJvbFByb21pc2VdLnJlc29sdmUoMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2UpIHtcbiAgICAgICAgbGV0IG5hdGl2ZVRoZW4gPSBuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2Vbc3ltYm9sVGhlbl07XG4gICAgICAgIGlmICghbmF0aXZlVGhlbikge1xuICAgICAgICAgIC8vIG5hdGl2ZSBQcm9taXNlIGlzIG5vdCBwYXRjaGFibGUsIHdlIG5lZWQgdG8gdXNlIGB0aGVuYCBkaXJlY3RseVxuICAgICAgICAgIC8vIGlzc3VlIDEwNzhcbiAgICAgICAgICBuYXRpdmVUaGVuID0gbmF0aXZlTWljcm9UYXNrUXVldWVQcm9taXNlWyd0aGVuJ107XG4gICAgICAgIH1cbiAgICAgICAgbmF0aXZlVGhlbi5jYWxsKG5hdGl2ZU1pY3JvVGFza1F1ZXVlUHJvbWlzZSwgZHJhaW5NaWNyb1Rhc2tRdWV1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbG9iYWxbc3ltYm9sU2V0VGltZW91dF0oZHJhaW5NaWNyb1Rhc2tRdWV1ZSwgMCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRhc2sgJiYgX21pY3JvVGFza1F1ZXVlLnB1c2godGFzayk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmFpbk1pY3JvVGFza1F1ZXVlKCkge1xuICAgIGlmICghX2lzRHJhaW5pbmdNaWNyb3Rhc2tRdWV1ZSkge1xuICAgICAgX2lzRHJhaW5pbmdNaWNyb3Rhc2tRdWV1ZSA9IHRydWU7XG4gICAgICB3aGlsZSAoX21pY3JvVGFza1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IF9taWNyb1Rhc2tRdWV1ZTtcbiAgICAgICAgX21pY3JvVGFza1F1ZXVlID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCB0YXNrID0gcXVldWVbaV07XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRhc2suem9uZS5ydW5UYXNrKHRhc2ssIG51bGwsIG51bGwpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBfYXBpLm9uVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgX2FwaS5taWNyb3Rhc2tEcmFpbkRvbmUoKTtcbiAgICAgIF9pc0RyYWluaW5nTWljcm90YXNrUXVldWUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLyAgQk9PVFNUUkFQXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4gIGNvbnN0IE5PX1pPTkUgPSB7bmFtZTogJ05PIFpPTkUnfTtcbiAgY29uc3Qgbm90U2NoZWR1bGVkOiAnbm90U2NoZWR1bGVkJyA9ICdub3RTY2hlZHVsZWQnLCBzY2hlZHVsaW5nOiAnc2NoZWR1bGluZycgPSAnc2NoZWR1bGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVkOiAnc2NoZWR1bGVkJyA9ICdzY2hlZHVsZWQnLCBydW5uaW5nOiAncnVubmluZycgPSAncnVubmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgY2FuY2VsaW5nOiAnY2FuY2VsaW5nJyA9ICdjYW5jZWxpbmcnLCB1bmtub3duOiAndW5rbm93bicgPSAndW5rbm93bic7XG4gIGNvbnN0IG1pY3JvVGFzazogJ21pY3JvVGFzaycgPSAnbWljcm9UYXNrJywgbWFjcm9UYXNrOiAnbWFjcm9UYXNrJyA9ICdtYWNyb1Rhc2snLFxuICAgICAgICAgICAgICAgICAgIGV2ZW50VGFzazogJ2V2ZW50VGFzaycgPSAnZXZlbnRUYXNrJztcblxuICBjb25zdCBwYXRjaGVzOiB7W2tleTogc3RyaW5nXTogYW55fSA9IHt9O1xuICBjb25zdCBfYXBpOiBfWm9uZVByaXZhdGUgPSB7XG4gICAgc3ltYm9sOiBfX3N5bWJvbF9fLFxuICAgIGN1cnJlbnRab25lRnJhbWU6ICgpID0+IF9jdXJyZW50Wm9uZUZyYW1lLFxuICAgIG9uVW5oYW5kbGVkRXJyb3I6IG5vb3AsXG4gICAgbWljcm90YXNrRHJhaW5Eb25lOiBub29wLFxuICAgIHNjaGVkdWxlTWljcm9UYXNrOiBzY2hlZHVsZU1pY3JvVGFzayxcbiAgICBzaG93VW5jYXVnaHRFcnJvcjogKCkgPT4gIShab25lIGFzIGFueSlbX19zeW1ib2xfXygnaWdub3JlQ29uc29sZUVycm9yVW5jYXVnaHRFcnJvcicpXSxcbiAgICBwYXRjaEV2ZW50VGFyZ2V0OiAoKSA9PiBbXSxcbiAgICBwYXRjaE9uUHJvcGVydGllczogbm9vcCxcbiAgICBwYXRjaE1ldGhvZDogKCkgPT4gbm9vcCxcbiAgICBiaW5kQXJndW1lbnRzOiAoKSA9PiBbXSxcbiAgICBwYXRjaFRoZW46ICgpID0+IG5vb3AsXG4gICAgcGF0Y2hNYWNyb1Rhc2s6ICgpID0+IG5vb3AsXG4gICAgc2V0TmF0aXZlUHJvbWlzZTogKE5hdGl2ZVByb21pc2U6IGFueSkgPT4ge1xuICAgICAgLy8gc29tZXRpbWVzIE5hdGl2ZVByb21pc2UucmVzb2x2ZSBzdGF0aWMgZnVuY3Rpb25cbiAgICAgIC8vIGlzIG5vdCByZWFkeSB5ZXQsIChzdWNoIGFzIGNvcmUtanMvZXM2LnByb21pc2UpXG4gICAgICAvLyBzbyB3ZSBuZWVkIHRvIGNoZWNrIGhlcmUuXG4gICAgICBpZiAoTmF0aXZlUHJvbWlzZSAmJiB0eXBlb2YgTmF0aXZlUHJvbWlzZS5yZXNvbHZlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG5hdGl2ZU1pY3JvVGFza1F1ZXVlUHJvbWlzZSA9IE5hdGl2ZVByb21pc2UucmVzb2x2ZSgwKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHBhdGNoRXZlbnRQcm90b3R5cGU6ICgpID0+IG5vb3AsXG4gICAgaXNJRU9yRWRnZTogKCkgPT4gZmFsc2UsXG4gICAgZ2V0R2xvYmFsT2JqZWN0czogKCkgPT4gdW5kZWZpbmVkLFxuICAgIE9iamVjdERlZmluZVByb3BlcnR5OiAoKSA9PiBub29wLFxuICAgIE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjogKCkgPT4gdW5kZWZpbmVkLFxuICAgIE9iamVjdENyZWF0ZTogKCkgPT4gdW5kZWZpbmVkLFxuICAgIEFycmF5U2xpY2U6ICgpID0+IFtdLFxuICAgIHBhdGNoQ2xhc3M6ICgpID0+IG5vb3AsXG4gICAgd3JhcFdpdGhDdXJyZW50Wm9uZTogKCkgPT4gbm9vcCxcbiAgICBmaWx0ZXJQcm9wZXJ0aWVzOiAoKSA9PiBbXSxcbiAgICBhdHRhY2hPcmlnaW5Ub1BhdGNoZWQ6ICgpID0+IG5vb3AsXG4gICAgX3JlZGVmaW5lUHJvcGVydHk6ICgpID0+IG5vb3AsXG4gICAgcGF0Y2hDYWxsYmFja3M6ICgpID0+IG5vb3BcbiAgfTtcbiAgbGV0IF9jdXJyZW50Wm9uZUZyYW1lOiBfWm9uZUZyYW1lID0ge3BhcmVudDogbnVsbCwgem9uZTogbmV3IFpvbmUobnVsbCwgbnVsbCl9O1xuICBsZXQgX2N1cnJlbnRUYXNrOiBUYXNrfG51bGwgPSBudWxsO1xuICBsZXQgX251bWJlck9mTmVzdGVkVGFza0ZyYW1lcyA9IDA7XG5cbiAgZnVuY3Rpb24gbm9vcCgpIHt9XG5cbiAgZnVuY3Rpb24gX19zeW1ib2xfXyhuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gJ19fem9uZV9zeW1ib2xfXycgKyBuYW1lO1xuICB9XG5cbiAgcGVyZm9ybWFuY2VNZWFzdXJlKCdab25lJywgJ1pvbmUnKTtcbiAgcmV0dXJuIGdsb2JhbFsnWm9uZSddID0gWm9uZTtcbn0pKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdyB8fCB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiB8fCBnbG9iYWwpO1xuIl19